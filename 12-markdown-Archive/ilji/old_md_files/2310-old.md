
### 오늘의 링크

1. 젯브레인 2023학습채널 https://hyperskill.org/tracks/18

1. (2023-07 322p) 최신 Android 13 개발 요리책 Modern Android 13 Development Cookbook https://subscription.packtpub.com/book/mobile/9781803235578/pref

1. (2022-03 420.p) WordPress Plugin Development Cookbook https://subscription.packtpub.com/book/web-development/9781801810777/pref

1. 전국은행연합회 - 예금상품 금리비교 https://portal.kfb.or.kr/compare/receiving_neosearch.php

# 231004 수
0930 진도

1. (Google Cloud에서 실천! 클라우드 네이티브 개발) Google Cloud 개요 및 현대적인 애플리케이션 개발 頼兼孝幸(카네 타카 유키) 2023-08-24 https://gihyo.jp/article/2023/08/modern-app-development-on-google-cloud-01
1. 클릭 한 번으로 쿠팡 상품 정보 끄집어내기! ChatGPT로 완성하는 크롤링 봇 2023-08-28 https://blog.hashscraper.com/build-coupang-crawler-bot-with-chatgpt/
1. 카페 공지 필독말머리 [진행중] 📢맛있는 디자인 스터디 13기 모집(~10/8) 인기멤버 에리나 카페매니저 1:1 채팅 2023.09.18. 14:34조회 957 https://cafe.naver.com/matdistudy/11677
1. 데브잇냥 지식in 데브계 이모저모(주모~~~~~ok옥?) 한빛출판네트워크
- [ 리소스는 더 적게, 신뢰성은 더 높게" 클라우드 혁명의 근간 '관찰가능성 ](https://edm.hanbit.co.kr/tm6/app/response/click/massmail/37daa5f89031a0e8647e10db66805b0e/e2883734aa99ab90dbd345f0472d7f51/64c5a86b8ad2aaddc22393ff15085b4c48b1988bc1773f8477b7346a86c2279d/3258bbe8c1ee23fcb8660b2965745bcc/2f00e6fb44d7747a44a3a54b2b873d80dd1998a47229fddaab385ab214378520e999a0cae6d07982f12ef0a420311e38/1d913f7842445f8b98d952be9b44f104312f0156a72b8e1fafc993043d3c4c34462c397f29c1397981dd4afe3019ce4aff7183ad959eb2be2a1cbfb284d7356ab3141a160ddb57d3bac78ac7b2eb0c689f282a9398444243ff641b6b91b8492c93051b77d1d9973911f260f59fbe7507)
- [시니어 개발자가 대화형 인공지능(ChatGPT)과 페어 프로그래밍하는 법(feat. DEVIEW 2023 코드 구현하기) ](https://edm.hanbit.co.kr/tm6/app/response/click/massmail/37daa5f89031a0e8647e10db66805b0e/e2883734aa99ab90dbd345f0472d7f51/64c5a86b8ad2aaddc22393ff15085b4c48b1988bc1773f8477b7346a86c2279d/fd4f01378b12da0ecc3b2adc531e2500/09e45e0cf890071245925671d9bd7c950a2d9d407d7ce988edd02e598c21df0556ef96ce941e46a9bc968ad3e3f74f03/1d913f7842445f8b98d952be9b44f104312f0156a72b8e1fafc993043d3c4c34462c397f29c1397981dd4afe3019ce4aff7183ad959eb2be2a1cbfb284d7356ab3141a160ddb57d3bac78ac7b2eb0c689f282a9398444243ff641b6b91b8492c93051b77d1d9973911f260f59fbe7507)
- [좋은 예외(Exception) 처리 ](https://edm.hanbit.co.kr/tm6/app/response/click/massmail/37daa5f89031a0e8647e10db66805b0e/e2883734aa99ab90dbd345f0472d7f51/64c5a86b8ad2aaddc22393ff15085b4c48b1988bc1773f8477b7346a86c2279d/83608e3d58cd2f624c133b8fae3f9041/348c54c8bbc027c3a56fea46848cd7f0f90997a015373e1d77d1c9608312e89d/1d913f7842445f8b98d952be9b44f104312f0156a72b8e1fafc993043d3c4c34462c397f29c1397981dd4afe3019ce4aff7183ad959eb2be2a1cbfb284d7356ab3141a160ddb57d3bac78ac7b2eb0c689f282a9398444243ff641b6b91b8492c93051b77d1d9973911f260f59fbe7507)
- [피드백을 주는 태도에 대하여 ](https://edm.hanbit.co.kr/tm6/app/response/click/massmail/37daa5f89031a0e8647e10db66805b0e/e2883734aa99ab90dbd345f0472d7f51/64c5a86b8ad2aaddc22393ff15085b4c48b1988bc1773f8477b7346a86c2279d/f43f9f55b7dc169e192c0147ff6dfeed/c051b3b9c24c82716100693ed20785883569fdb8cff49b30a0d037d3a978f556/1d913f7842445f8b98d952be9b44f104312f0156a72b8e1fafc993043d3c4c34462c397f29c1397981dd4afe3019ce4aff7183ad959eb2be2a1cbfb284d7356ab3141a160ddb57d3bac78ac7b2eb0c689f282a9398444243ff641b6b91b8492c93051b77d1d9973911f260f59fbe7507)
- [클릭 한 번으로 쿠팡 상품 정보 끄집어내기! ChatGPT로 완성하는 크롤링 봇 ](https://edm.hanbit.co.kr/tm6/app/response/click/massmail/37daa5f89031a0e8647e10db66805b0e/e2883734aa99ab90dbd345f0472d7f51/64c5a86b8ad2aaddc22393ff15085b4c48b1988bc1773f8477b7346a86c2279d/884e5c082ce8117d740c4cd10dccd3d5/5dd0ef84fa2cb7cb55a259475f854a28f4e5b9d2b4e4fc608d33e9f4f86ad1fcdf9448c068c91855b8852be6f26d988d3db7a0ff1b4e46db98c6662f8411c83da189c2117a6b7e277c80c24409d10725/1d913f7842445f8b98d952be9b44f104312f0156a72b8e1fafc993043d3c4c34462c397f29c1397981dd4afe3019ce4aff7183ad959eb2be2a1cbfb284d7356ab3141a160ddb57d3bac78ac7b2eb0c689f282a9398444243ff641b6b91b8492c93051b77d1d9973911f260f59fbe7507)
- [블록체인 스타트업이 있었는데요, 없었습니다 ](https://edm.hanbit.co.kr/tm6/app/response/click/massmail/37daa5f89031a0e8647e10db66805b0e/e2883734aa99ab90dbd345f0472d7f51/64c5a86b8ad2aaddc22393ff15085b4c48b1988bc1773f8477b7346a86c2279d/415c51b884d0d7f53494f295c425f374/b073701753170f937947b797c15c193c7cc5ca183ba5ce03ffcd127822a037ac92ba0534edb0543e2ecef7228aa8807b72009da97eff3dc89cde9a88dea1c0b20a5d07e0ec6b3c358df434cccb3a80b3/1d913f7842445f8b98d952be9b44f104312f0156a72b8e1fafc993043d3c4c34462c397f29c1397981dd4afe3019ce4aff7183ad959eb2be2a1cbfb284d7356ab3141a160ddb57d3bac78ac7b2eb0c689f282a9398444243ff641b6b91b8492c93051b77d1d9973911f260f59fbe7507)
- [LLM은 생성형 AI가 아니다한빛출판네트워크 ](https://edm.hanbit.co.kr/tm6/app/response/click/massmail/37daa5f89031a0e8647e10db66805b0e/e2883734aa99ab90dbd345f0472d7f51/64c5a86b8ad2aaddc22393ff15085b4c48b1988bc1773f8477b7346a86c2279d/f5e66fd8bd2562ed0f6c7c77d965a619/c051b3b9c24c82716100693ed20785880d0e22552724606edff758899eaf64fa/1d913f7842445f8b98d952be9b44f104312f0156a72b8e1fafc993043d3c4c34462c397f29c1397981dd4afe3019ce4aff7183ad959eb2be2a1cbfb284d7356ab3141a160ddb57d3bac78ac7b2eb0c689f282a9398444243ff641b6b91b8492c93051b77d1d9973911f260f59fbe7507)
- [카카오, 내년 1분기 첫 자체 데이터센터 가동…"24시간 무중단" ](https://edm.hanbit.co.kr/tm6/app/response/click/massmail/37daa5f89031a0e8647e10db66805b0e/e2883734aa99ab90dbd345f0472d7f51/64c5a86b8ad2aaddc22393ff15085b4c48b1988bc1773f8477b7346a86c2279d/bd2500121c1ff8db915afa3ce951455b/a7617d3c4a7bc4463def26da3f8d97b29295a1dc158ba3d3a889dc83c5542c14c06f56764fff4e2548b57e513f5b5ae39ede69691f4b3f0e73a9ad74f7e9ba04a0db72027c14dd30e5049e47a2fe3d1c/1d913f7842445f8b98d952be9b44f104312f0156a72b8e1fafc993043d3c4c34462c397f29c1397981dd4afe3019ce4aff7183ad959eb2be2a1cbfb284d7356ab3141a160ddb57d3bac78ac7b2eb0c689f282a9398444243ff641b6b91b8492c93051b77d1d9973911f260f59fbe7507)
5. Brave Browser 브레이브 브라우저 설치 Fedora, Rocky/RHEL 
```
sudo dnf install dnf-plugins-core
sudo dnf config-manager --add-repo https://brave-browser-rpm-release.s3.brave.com/brave-browser.repo
sudo rpm --import https://brave-browser-rpm-release.s3.brave.com/brave-core.asc
sudo dnf install brave-browser brave-keyring
```


# 231002 월

1. 전국은행연합회 - 예금상품 금리비교 https://portal.kfb.or.kr/compare/receiving_neosearch.php
고객센터(158-5000)로 연락 주시기 바랍니다. 상품명 WON 통장 가입금액 0원 신규계좌번호 1002-66*-****** 자동이체계좌번호 만기일 가입기간 적용금리 비과세선택	해당없음 만기시처리방법 해당없음 예금주 전?석 관리점	WON컨시어지영업부 가입일시 2023/10/02 11:29:50
1. 훈민정음으로 풀리는 중국어ㅣ사라진 한글로 중국어가 풀린다 교육사업가 이현준TV 구독자 1.65천명 조회수 4만회  3개월 전 https://www.youtube.com/watch?v=RLFlrd948A0
1. 세상은 정말 우리 생각 보다 빨리 변하네요. [12]2023-10-02 23:46대끼리(垈佶)👍 https://youtu.be/DOWDNBu9DkU?si=qMhEhXf_IaNrQ5qa

# 231001 일

1. 전기밥솥 코스트코 > 망우역 > 다이소 > 이마트
1. 요즘엔 pc 어떻게 사나요? [39]19:25:27미유네. https://www.ddanzi.com/index.php?mid=free&statusList=HOT%2CHOTBEST%2CHOTAC%2CHOTBESTAC&document_srl=783711684
1. FFmpeg 및 대안을 사용하여 WebM을 MP3로 변환하는 방법 작성자: Christine Smith • 2023-05-31 15:56:08 • 검증된 솔루션 https://videoconverter.wondershare.com/convert-mp3/ffmpeg-webm-to-mp3.html
1. FFmpeg 다운로드 https://www.ffmpeg.org/download.html
https://mirror.fcix.net/rpmfusion/free/fedora/releases/38/Everything/x86_64/os/repoview/ffmpeg.html 에서 `ffmpeg-*.rpm` 을 다운로드 한다.
```
sudo dnf install ./ffmpeg-6.0-6.fc38.x86_64.rpm

FILE="230905-탐사...소리-74M.webm" ; ffmpeg -i "${FILE}" -vn -ab 128k -ar 44100 -y "${FILE%.[Ww][Ee][Bb][Mm]}.mp3"
```

# Wiki.js 설치하기

```
| lll | 검정 b(L)ack | rrr | 빨강 Red | ggg | 녹색 Green | yyy | 노랑 Yellow | bbb | 파랑 Blue |
|:---:|:---|:---:|---:|:---:|:---:|:---:|---|:---:|:---:|
|:---:|:--- sit in the LEFT|:---:|---: to the RIGHT|:---:|:---: CENTER align|:---:|--- basic|:---:|:---:|
| mmm | 보라 Magenta | ccc | 청록 Cyan | www | 흰색 White | xxx | 색표시 끝 | uuu | 윗쪽으로 Up |
```

| lll | 검정 b(L)ack | rrr | 빨강 Red | ggg | 녹색 Green | yyy | 황 | bbb | 파랑 Blue |
|:---:|:---|:---:|---:|:---:|:---:|:---:|---|:---:|:---:|
|:---:|:--- sit in the LEFT|:---:|---: to the RIGHT|:---:|:---: CENTER align|:---:|---|:---:|:---:|
| mmm | 보라 Magenta | ccc | 청록 Cyan | www | 흰색 White | xxx | 색표시 끝 | uuu | 윗쪽으로 Up |

## 1. 도커 프로그램 설치

1. 📌 이모지 https://wepplication.github.io/tools/charMap/#emoji
1. 시스템을 최신버전으로 유지하기 위해 다음을 실행한다.
```
lll=$(tput bold)$(tput setaf 0); rrr=$(tput bold)$(tput setaf 1); ggg=$(tput bold)$(tput setaf 2); yyy=$(tput bold)$(tput setaf 3); bbb=$(tput bold)$(tput setaf 4); mmm=$(tput bold)$(tput setaf 5); ccc=$(tput bold)$(tput setaf 6); www=$(tput bold)$(tput setaf 7); xxx=$(tput bold)$(tput sgr0); uuu=$(tput cuu 2)

echo "시스템을 최신버전으로 유지하기 위해 다음을 실행합니다: time sudo dnf -y update"
time sudo dnf -y update
echo "🎶 --------------------"
```

2. 시스템 명령어인 dnf 의 플러그인 코어를 받는다.
```
for i in {0..3}; do echo "#"; done

echo "(1-1) dnf 의 플러그인 코어를 받습니다: time sudo dnf -y install dnf-plugins-core (jj 0m35.843s; prn 0m20.586s; yscart 0m51.644s; yscartV 1m35.838s)"
time sudo dnf -y install dnf-plugins-core
echo "🎶 (1-2) --------------------"
```

3. 지금 받으려는 docker-ce 가 있는 위치를 리파지토리에 기록한다.
```
for i in {0..3}; do echo "#"; done

echo "(1-3) 지금 받으려는 docker-ce 가 있는 위치를 /etc/yum.repos.d/docker-ce.repo 리파지토리에 기록합니다: sudo tee /etc/yum.repos.d/docker-ce.repo << __EOF__"
sudo tee /etc/yum.repos.d/docker-ce.repo << __EOF__
[docker-ce-stable]
name=Docker CE Stable - \$basearch
baseurl=https://download.docker.com/linux/fedora/36/\$basearch/stable
enabled=1
gpgcheck=1
gpgkey=https://download.docker.com/linux/fedora/gpg
__EOF__
echo "🎶 (1-4) --------------------"
```

4. docker-ce 를 받는다.
```
for i in {0..3}; do echo "#"; done

echo "(1-5) docker-ce 를 받습니다: time sudo dnf makecache (jj 0m26.703s; prn 0m8.104s; yscart 0m13.500s; yscartV 0m15.553s)"
time sudo dnf makecache
echo "(1-6) time sudo dnf -y install docker-ce docker-ce-cli containerd.io (prn 0m21.065s; yscart 1m23.275s; yscartV 1m0.635s)"
time sudo dnf -y install docker-ce docker-ce-cli containerd.io
echo "(1-7) sudo systemctl enable --now docker"
sudo systemctl enable --now docker
echo "🎶 (1-8) --------------------"
```

5. Docker 설치 확인

```
for i in {0..3}; do echo "#"; done

echo "(1-9) 줄의 끝에 lines 1-24/24 (END) 가 나오면, 'Q' 를 눌러서 끝내야 합니다: sudo systemctl status docker"
sudo systemctl status docker
echo "(1-10) sudo docker version"
sudo docker version
echo "🎶 (1-11) --------------------"
```

6. docker-compose 를 설치한다.
```
lll=$(tput bold)$(tput setaf 0); rrr=$(tput bold)$(tput setaf 1); ggg=$(tput bold)$(tput setaf 2); yyy=$(tput bold)$(tput setaf 3); bbb=$(tput bold)$(tput setaf 4); mmm=$(tput bold)$(tput setaf 5); ccc=$(tput bold)$(tput setaf 6); www=$(tput bold)$(tput setaf 7); xxx=$(tput bold)$(tput sgr0); uuu=$(tput cuu 2)

for i in {0..3}; do echo "#"; done

echo "(1-12) docker-compose 를 설치합니다: time sudo dnf -y install docker-compose (jj 0m12.520s; prn 0m12.703s; yscart 0m47.560s; yscartV 0m33.561s)"
time sudo dnf -y install docker-compose
echo "(1-13) rpm -qi docker-compose"
rpm -qi docker-compose
echo "(1-14) sudo docker ps -a"
sudo docker ps -a
echo "🎶 (1-15) --------------------"
```

## 2. wiki.js 용 데이터베이스 서비스

```
lll=$(tput bold)$(tput setaf 0); rrr=$(tput bold)$(tput setaf 1); ggg=$(tput bold)$(tput setaf 2); yyy=$(tput bold)$(tput setaf 3); bbb=$(tput bold)$(tput setaf 4); mmm=$(tput bold)$(tput setaf 5); ccc=$(tput bold)$(tput setaf 6); www=$(tput bold)$(tput setaf 7); xxx=$(tput bold)$(tput sgr0); uuu=$(tput cuu 2)

for i in {0..3}; do echo "#"; done

#----> wiki.js 도커에서 쓰는 bash 변수 선언.
#--
DOCKER_DIR="/home/docker" #----- dwjs 도커 디렉토리 홈
DATABASE_DIR="${DOCKER_DIR}/wikijs_data" #-- dwjs wiki 데이터베이스 보관 디렉토리
YML_DIR="${DOCKER_DIR}/wikijs_yml" #-------- dwjs docker-compose.yml 을 보관하는 /home/docker/ 아래의 디렉토리
YML_NAME="${YML_DIR}/docker-compose.yml" #-- dwjs docker-compose.yml 이름을 지정
DATABASE_SERVICE="db_srv" #----- dwjs 데이터베이스 서비스 이름
DATABASE_NAME="wikidb" #-------- dwjs 데이터베이스 이름
DATABASE_CONTAINER="pgwikic" #-- dwjs 데이터베이스 컨테이너 이름
DB_user_NAME="imwiki" #--------- dwjs 데이터베이스 유저 이름
DB_user_PASS="wikipswd" #------- dwjs 데이터베이스 유저 비번
WIKI_SERVICE="wiki_srv" #---- dwjs 위키 서비스 이름
if [ "x${WIKI_PORT_NO}" = "x" ]; then
    WIKI_PORT_NO="7700" #-------- dwjs 위키 포트 번호
fi
WIKI_CONTAINER="wikijsc" #--- dwjs 위키 컨테이너
CLOUD_NAME="tpn3mi" #--------- dwjs rclone 백업용 클라우드 이름
LOCAL_BACKUP_DIR="${DOCKER_DIR}/backup/${DATABASE_CONTAINER}" #-- dwjs 압축한 데이터베이스 백업 디렉토리
#--
#<---- wiki.js 도커에서 쓰는 bash 변수 선언.

if [ -d ${DATABASE_DIR} ]; then
    echo "(2-1) sudo ls -alR ${DATABASE_DIR}"
    sudo ls -alR ${DATABASE_DIR}
    cat <<__EOF__
(2-2) ${DATABASE_DIR} 디렉토리가 있으므로,
      내용을 확인해봐서 쓰지 않는 것이면,
      이 디렉토리를 지우고 다시 만들기 위해,
          터미널을 새로 열고,
          다음의 명령을 입력허세요.

      sudo rm -rf ${DATABASE_DIR}

🖍️ (2-3) 터미널을 새로 열고 디렉토리 재확인 Enter:
__EOF__
    read a
else
    echo "(2-4) 데이터베이스가 사용하는 디렉토리 만들기: sudo mkdir -p ${DATABASE_DIR}"
    sudo mkdir -p ${DATABASE_DIR}
fi
echo "(2-5) sudo ls -alR ${DOCKER_DIR}"
sudo ls -alR ${DOCKER_DIR}
echo "🎶 (2-6) --------------------"
```

## 3. 위키 서비스

```
lll=$(tput bold)$(tput setaf 0); rrr=$(tput bold)$(tput setaf 1); ggg=$(tput bold)$(tput setaf 2); yyy=$(tput bold)$(tput setaf 3); bbb=$(tput bold)$(tput setaf 4); mmm=$(tput bold)$(tput setaf 5); ccc=$(tput bold)$(tput setaf 6); www=$(tput bold)$(tput setaf 7); xxx=$(tput bold)$(tput sgr0); uuu=$(tput cuu 2)

for i in {0..3}; do echo "#"; done

#----> wiki.js 도커에서 쓰는 bash 변수 선언.
#--
DOCKER_DIR="/home/docker" #----- dwjs 도커 디렉토리 홈
DATABASE_DIR="${DOCKER_DIR}/wikijs_data" #-- dwjs wiki 데이터베이스 보관 디렉토리
YML_DIR="${DOCKER_DIR}/wikijs_yml" #-------- dwjs docker-compose.yml 을 보관하는 /home/docker/ 아래의 디렉토리
YML_NAME="${YML_DIR}/docker-compose.yml" #-- dwjs docker-compose.yml 이름을 지정
DATABASE_SERVICE="db_srv" #----- dwjs 데이터베이스 서비스 이름
DATABASE_NAME="wikidb" #-------- dwjs 데이터베이스 이름
DATABASE_CONTAINER="pgwikic" #-- dwjs 데이터베이스 컨테이너 이름
DB_user_NAME="imwiki" #--------- dwjs 데이터베이스 유저 이름
DB_user_PASS="wikipswd" #------- dwjs 데이터베이스 유저 비번
WIKI_SERVICE="wiki_srv" #---- dwjs 위키 서비스 이름
if [ "x${WIKI_PORT_NO}" = "x" ]; then
    WIKI_PORT_NO="7700" #-------- dwjs 위키 포트 번호
fi
WIKI_CONTAINER="wikijsc" #--- dwjs 위키 컨테이너
CLOUD_NAME="tpn3mi" #--------- dwjs rclone 백업용 클라우드 이름
LOCAL_BACKUP_DIR="${DOCKER_DIR}/backup/${DATABASE_CONTAINER}" #-- dwjs 압축한 데이터베이스 백업 디렉토리
#--
#<---- wiki.js 도커에서 쓰는 bash 변수 선언.

if [ ! -d ${YML_DIR} ]; then
    echo "(3-1) docker-compose.yml 보관 디렉토리 만들기: sudo mkdir -p ${YML_DIR} ; sudo chmod 755 ${YML_DIR} ; sudo chown ${USER}:${USER} ${YML_DIR}"
    sudo mkdir -p ${YML_DIR} ; sudo chmod 755 ${YML_DIR} ; sudo chown ${USER}:${USER} ${YML_DIR}
fi

echo "🖍️ (3-2) Wiki.js 의 포트 번호: [ ${WIKI_PORT_NO} ]"
read a
if [ "x$a" != "x" ]; then
    WIKI_PORT_NO=$a
fi

echo "(3-3) ${YML_NAME} 파일을 만듭니다: cat > ${YML_NAME} <<__EOF__"
cat > ${YML_NAME} <<__EOF__
version: "3"
services:
  ${DATABASE_SERVICE}:
    image: postgres:11-alpine
    environment:
      POSTGRES_USER: ${DB_user_NAME}
      POSTGRES_PASSWORD: ${DB_user_PASS}
      POSTGRES_DB: ${DATABASE_NAME}
    logging:
      driver: "none"
    restart: unless-stopped
    volumes:
      - ${DATABASE_DIR}:/var/lib/postgresql/data
    container_name:
      ${DATABASE_CONTAINER}

  ${WIKI_SERVICE}:
    image: requarks/wiki:2
    depends_on:
      - ${DATABASE_SERVICE}
    environment:
      DB_TYPE: postgres
      DB_HOST: ${DATABASE_SERVICE}
      DB_PORT: 5432
      DB_USER: ${DB_user_NAME}
      DB_PASS: ${DB_user_PASS}
      DB_NAME: ${DATABASE_NAME}
    restart: unless-stopped
    ports:
      - "${WIKI_PORT_NO}:3000"
    container_name:
      ${WIKI_CONTAINER}
__EOF__

echo "(3-4) ls -lR ${YML_NAME} ; cat ${YML_NAME}"
ls -lR ${YML_NAME} ; cat ${YML_NAME}

echo "🎶 (3-5) --------------------"
```

## 4. 도커 컴포즈 빌드 + 실행

```
lll=$(tput bold)$(tput setaf 0); rrr=$(tput bold)$(tput setaf 1); ggg=$(tput bold)$(tput setaf 2); yyy=$(tput bold)$(tput setaf 3); bbb=$(tput bold)$(tput setaf 4); mmm=$(tput bold)$(tput setaf 5); ccc=$(tput bold)$(tput setaf 6); www=$(tput bold)$(tput setaf 7); xxx=$(tput bold)$(tput sgr0); uuu=$(tput cuu 2)

for i in {0..3}; do echo "#"; done

#----> wiki.js 도커에서 쓰는 bash 변수 선언.
#--
DOCKER_DIR="/home/docker" #----- dwjs 도커 디렉토리 홈
DATABASE_DIR="${DOCKER_DIR}/wikijs_data" #-- dwjs wiki 데이터베이스 보관 디렉토리
YML_DIR="${DOCKER_DIR}/wikijs_yml" #-------- dwjs docker-compose.yml 을 보관하는 /home/docker/ 아래의 디렉토리
YML_NAME="${YML_DIR}/docker-compose.yml" #-- dwjs docker-compose.yml 이름을 지정
DATABASE_SERVICE="db_srv" #----- dwjs 데이터베이스 서비스 이름
DATABASE_NAME="wikidb" #-------- dwjs 데이터베이스 이름
DATABASE_CONTAINER="pgwikic" #-- dwjs 데이터베이스 컨테이너 이름
DB_user_NAME="imwiki" #--------- dwjs 데이터베이스 유저 이름
DB_user_PASS="wikipswd" #------- dwjs 데이터베이스 유저 비번
WIKI_SERVICE="wiki_srv" #---- dwjs 위키 서비스 이름
if [ "x${WIKI_PORT_NO}" = "x" ]; then
    WIKI_PORT_NO="7700" #-------- dwjs 위키 포트 번호
fi
WIKI_CONTAINER="wikijsc" #--- dwjs 위키 컨테이너
CLOUD_NAME="tpn3mi" #--------- dwjs rclone 백업용 클라우드 이름
LOCAL_BACKUP_DIR="${DOCKER_DIR}/backup/${DATABASE_CONTAINER}" #-- dwjs 압축한 데이터베이스 백업 디렉토리
#--
#<---- wiki.js 도커에서 쓰는 bash 변수 선언.

if [ ! -d ${YML_DIR} ]; then
    echo "(4-1) docker-compose.yml 보관 디렉토리 만들기: sudo mkdir -p ${YML_DIR} ; sudo chmod 755 ${YML_DIR} ; sudo chown ${USER}:${USER} ${YML_DIR}"
    sudo mkdir -p ${YML_DIR} ; sudo chmod 755 ${YML_DIR} ; sudo chown ${USER}:${USER} ${YML_DIR}
fi
echo "(4-2) cd ${YML_DIR} "
cd ${YML_DIR}
echo "(4-3) 도커 컴포즈 설치: time sudo dnf -y install docker-compose (yscart 0m4.603s; yscartV 0m4.271s)"
time sudo dnf -y install docker-compose
echo "(4-4) 설치내역 확인: rpm -qi docker-compose"
rpm -qi docker-compose
echo "(4-5) sudo docker ps -a"
sudo docker ps -a
echo "(4-6) 도커 컴포즈 빌드: time sudo docker-compose pull ${WIKI_SERVICE} (prn 0m23.508s; yscart 0m57.622s; yscartV 1m3.054s)"
time sudo docker-compose pull ${WIKI_SERVICE}
### ### sudo docker-compose up --build 를 쓰지 않음 ###

cat <<__EOF__
...
${WIKIJS_CONTAINER_NAME}  | 2023-07-07T08:19:07.832Z [MASTER] info: 🔻🔻🔻🔻🔻🔻🔻🔻🔻🔻
${WIKIJS_CONTAINER_NAME}  | 2023-07-07T08:19:07.832Z [MASTER] info: 
${WIKIJS_CONTAINER_NAME}  | 2023-07-07T08:19:07.832Z [MASTER] info: Browse to http://YOUR-SERVER-IP:3000/ to complete setup!
${WIKIJS_CONTAINER_NAME}  | 2023-07-07T08:19:07.832Z [MASTER] info: 
${WIKIJS_CONTAINER_NAME}  | 2023-07-07T08:19:07.832Z [MASTER] info: 🔻🔻🔻🔻🔻🔻🔻🔻🔻🔻

위와 같은 메세지가 표시되면, 작업이 정상적으로 실행이 된 것이므로,
[ Enter ] 키를 눌러서 터미널 프롬프트가 나오도록 합니다.

(1) ----> 아래의 명령을 --- 직접 --- 입력해서, 도커 실행내역을 확인합니다.

sudo docker ps -a

(2) ----> 브라우저에서 --- 아래의 주소를 입력해서,

localhost:${WIKI_PORT_NO}

이 작업이 끝나면, 관리자 등록과 첫 홈페이지를 만듭니다.

🖍️ (4-7) press Enter:
__EOF__
read a

echo "(4-8) 빌드한 도커 컴포즈를 실행합니다: sudo docker-compose up --force-recreate &"
sudo docker-compose up --force-recreate &
echo "(4-9) sudo docker-compose ps -a"
sudo docker-compose ps -a
echo "🎶 (4-10) --------------------"
```

# 클라우드 스토리지를 만들고 사용하기

### 1. 클라우드 스토리지

`인터넷 스토리지` (인터넷에 있는 데이터 보관장소 = 디스크) 에, 나의 `데이터와 파일`을 저장할 수 있는 **클라우드 컴퓨팅 모델**

### 2. outlook.kr 메일계정 만들기

login.live.com
계정이 없으신가요? 계정을 만드세요!
자세히 > 뒤로
자세히 > 뒤로 > 동의
동의하고 계정만들기
이름입력
생년월일 입력
퍼즐
확인 > 계속

### 3. mega.io 계정 만들기

mega.io/login > 계정 생성 선택
당신의 무료 계정을 만드세요 > 입력
이해 및 이용 약관 체크 > 계정 생성 클릭
outlook.kr 이메일 열림 > 계정 활성화 클릭
당신의 계정을 확인하세요 > 비번 입력 > 당신의 계정을 확인하세요 클릭
키 생성중 > 당신에게 맞는 요금제를 선택하세요
무료 요금제로 시작하세요 > 무료로 시작하세요 클릭
계정 복구 > 복구키 내보내기 다운로드 클릭
계정 복구 > OK 클릭

### 4. rclone 명령으로 mega.io 연결하기

```
10:38:56금230929 yos@yscart ~/git-projects/fedora-sh
fedora-sh $ rclone config
Current remotes:

Name                 Type
====                 ====

e) Edit existing remote
n) New remote
d) Delete remote
r) Rename remote
c) Copy remote
s) Set configuration password
q) Quit config
e/n/d/r/c/s/q> n

Enter name for new remote.
name> tpn4mi

Option Storage.
Type of storage to configure.
Choose a number from below, or type in your own value.
 1 / 1Fichier
   \ (fichier)
 2 / Akamai NetStorage
   \ (netstorage)
 3 / Alias for an existing remote
   \ (alias)
 4 / Amazon Drive
   \ (amazon cloud drive)
 5 / Amazon S3 Compliant Storage Providers including AWS, Alibaba, Ceph, China Mobile, Cloudflare, ArvanCloud, Digital Ocean, Dreamhost, Huawei OBS, IBM COS, IDrive e2, IONOS Cloud, Lyve Cloud, Minio, Netease, RackCorp, Scaleway, SeaweedFS, StackPath, Storj, Tencent COS, Qiniu and Wasabi
   \ (s3)
 6 / Backblaze B2
   \ (b2)
 7 / Better checksums for other remotes
   \ (hasher)
 8 / Box
   \ (box)
 9 / Cache a remote
   \ (cache)
10 / Citrix Sharefile
   \ (sharefile)
11 / Combine several remotes into one
   \ (combine)
12 / Compress a remote
   \ (compress)
13 / Dropbox
   \ (dropbox)
14 / Encrypt/Decrypt a remote
   \ (crypt)
15 / Enterprise File Fabric
   \ (filefabric)
16 / FTP
   \ (ftp)
17 / Google Cloud Storage (this is not Google Drive)
   \ (google cloud storage)
18 / Google Drive
   \ (drive)
19 / Google Photos
   \ (google photos)
20 / HTTP
   \ (http)
21 / Hadoop distributed file system
   \ (hdfs)
22 / HiDrive
   \ (hidrive)
23 / In memory object storage system.
   \ (memory)
24 / Internet Archive
   \ (internetarchive)
25 / Jottacloud
   \ (jottacloud)
26 / Koofr, Digi Storage and other Koofr-compatible storage providers
   \ (koofr)
27 / Local Disk
   \ (local)
28 / Mail.ru Cloud
   \ (mailru)
29 / Mega
   \ (mega)
30 / Microsoft Azure Blob Storage
   \ (azureblob)
31 / Microsoft OneDrive
   \ (onedrive)
32 / OpenDrive
   \ (opendrive)
33 / OpenStack Swift (Rackspace Cloud Files, Memset Memstore, OVH)
   \ (swift)
34 / Oracle Cloud Infrastructure Object Storage
   \ (oracleobjectstorage)
35 / Pcloud
   \ (pcloud)
36 / Put.io
   \ (putio)
37 / QingCloud Object Storage
   \ (qingstor)
38 / SMB / CIFS
   \ (smb)
39 / SSH/SFTP
   \ (sftp)
40 / Sia Decentralized Cloud
   \ (sia)
41 / Storj Decentralized Cloud Storage
   \ (storj)
42 / Sugarsync
   \ (sugarsync)
43 / Transparently chunk/split large files
   \ (chunker)
44 / Union merges the contents of several upstream fs
   \ (union)
45 / Uptobox
   \ (uptobox)
46 / WebDAV
   \ (webdav)
47 / Yandex Disk
   \ (yandex)
48 / Zoho
   \ (zoho)
49 / premiumize.me
   \ (premiumizeme)
50 / seafile
   \ (seafile)
Storage> mega

Option user.
User name.
Enter a value.
user> tpnote4@outlook.kr #-- mega에 등록한 메일

Option pass.
Password.
Choose an alternative below.
y) Yes, type in my own password
g) Generate random password
y/g> y
Enter the password: #-- mega에 등록한 비번, 메일과 관계없음
password:
Confirm the password:
password:

Edit advanced config?
y) Yes
n) No (default)
y/n> 

Configuration complete.
Options:
- type: mega
- user: tpnote4@outlook.kr
- pass: *** ENCRYPTED ***
Keep this "tpn4mi" remote?
y) Yes this is OK (default)
e) Edit this remote
d) Delete this remote
y/e/d> 

Current remotes:

Name                 Type
====                 ====
tpn4mi               mega

e) Edit existing remote
n) New remote
d) Delete remote
r) Rename remote
c) Copy remote
s) Set configuration password
q) Quit config
e/n/d/r/c/s/q> q
10:41:33금230929 yos@yscart ~/git-projects/fedora-sh
fedora-sh $ rclone size tpn4mi:
Total objects: 1 (1)
Total size: 924.248 KiB (946430 Byte)
10:41:47금230929 yos@yscart ~/git-projects/fedora-sh
fedora-sh $ 

11:06:09금230929 yos@yscart ~/archive/opt-backup
opt-backup $ ll wikidb/
합계 20
drwxrwxr-x 1 yos yos   102 2022년 12월 31일 2022
drwxrwxr-x 1 yos yos   694  9월 28일  11:14 2023
-rw-rw-r-- 1 yos yos  3746 2022년 12월 16일 color_base
-rw-r--r-- 1 yos yos 16186  8월  8일  14:55 db-to-cloud.sh
11:06:10금230929 yos@yscart ~/archive/opt-backup
opt-backup $ rclone copy wikidb tpn4mi:wikidb
11:12:27금230929 yos@yscart ~/archive/opt-backup
opt-backup $ rclone size tpn4mi:
Total objects: 69 (69)
Total size: 3.586 GiB (3850681326 Byte)
11:14:36금230929 yos@yscart ~/archive/opt-backup
opt-backup $  
```

# 데이터 백업과 리스토어

## 5. 단순백업 보관하기

```
lll=$(tput bold)$(tput setaf 0); rrr=$(tput bold)$(tput setaf 1); ggg=$(tput bold)$(tput setaf 2); yyy=$(tput bold)$(tput setaf 3); bbb=$(tput bold)$(tput setaf 4); mmm=$(tput bold)$(tput setaf 5); ccc=$(tput bold)$(tput setaf 6); www=$(tput bold)$(tput setaf 7); xxx=$(tput bold)$(tput sgr0); uuu=$(tput cuu 2)

for i in {0..3}; do echo "#"; done

#----> wiki.js 도커에서 쓰는 bash 변수 선언.
#--
DOCKER_DIR="/home/docker" #----- dwjs 도커 디렉토리 홈
DATABASE_DIR="${DOCKER_DIR}/wikijs_data" #-- dwjs wiki 데이터베이스 보관 디렉토리
YML_DIR="${DOCKER_DIR}/wikijs_yml" #-------- dwjs docker-compose.yml 을 보관하는 /home/docker/ 아래의 디렉토리
YML_NAME="${YML_DIR}/docker-compose.yml" #-- dwjs docker-compose.yml 이름을 지정
DATABASE_SERVICE="db_srv" #----- dwjs 데이터베이스 서비스 이름
DATABASE_NAME="wikidb" #-------- dwjs 데이터베이스 이름
DATABASE_CONTAINER="pgwikic" #-- dwjs 데이터베이스 컨테이너 이름
DB_user_NAME="imwiki" #--------- dwjs 데이터베이스 유저 이름
DB_user_PASS="wikipswd" #------- dwjs 데이터베이스 유저 비번
WIKI_SERVICE="wiki_srv" #---- dwjs 위키 서비스 이름
if [ "x${WIKI_PORT_NO}" = "x" ]; then
    WIKI_PORT_NO="7700" #-------- dwjs 위키 포트 번호
fi
WIKI_CONTAINER="wikijsc" #--- dwjs 위키 컨테이너
CLOUD_NAME="tpn3mi" #--------- dwjs rclone 백업용 클라우드 이름
LOCAL_BACKUP_DIR="${DOCKER_DIR}/backup/${DATABASE_CONTAINER}" #-- dwjs 압축한 데이터베이스 백업 디렉토리
#--
#<---- wiki.js 도커에서 쓰는 bash 변수 선언.

this_y4m2=$(date +%Y)-$(date +%m) #- 2022-08 과 같이 만든다.

LOCAL_Y2M2=${LOCAL_BACKUP_DIR}/${this_y4m2}
if [ ! -d ${LOCAL_Y2M2} ]; then
    echo "(5-1) ${LOCAL_Y2M2} 로컬 디렉토리를 만듭니다: sudo mkdir -p ${LOCAL_Y2M2} ; sudo chmod 755 ${LOCAL_Y2M2} ; sudo chown ${USER}:${USER} ${LOCAL_Y2M2}"
    sudo mkdir -p ${LOCAL_Y2M2} ; sudo chmod 755 ${LOCAL_Y2M2} ; sudo chown ${USER}:${USER} ${LOCAL_Y2M2}
fi

if [ "x${CLOUD_NAME}" = "x" ]; then
    echo "(5-2) 클라우드 이름이 없어서 중단합니다."
else
    echo "(5-3) time rclone lsf ${CLOUD_NAME}: (prn 0m3.421s; yscart 0m5.213s)"
    time rclone lsf ${CLOUD_NAME}:

    CLOUD_Y2M2=${DATABASE_CONTAINER}/${this_y4m2}
    echo "(5-4) 위키 컨테이너를 중단합니다."
    echo "sudo docker ps -a ; sudo docker stop ${WIKI_CONTAINER}"
    sudo docker ps -a ; sudo docker stop ${WIKI_CONTAINER}

    ymd_hm=$(date +"%y%m%d%a-%H%M")
    current_backup_7z=${DATABASE_NAME}_${ymd_hm}_$(uname -n).sql.7z #- 압축파일 이름
    cat <<__EOF__
///
/// DB 백업
///
/// (5-5) wili.js 데이터베이스를 백업하기 위해서 아래에 ---비밀번호--- 를 입력하세요. (prn 0m9.770s; yscart 0m56.533s)
///
///       오늘 요일이름의 로컬 보관장소에 백업합니다.
__EOF__
    echo "time sudo docker exec ${DATABASE_CONTAINER} pg_dumpall -U ${DB_user_NAME} | 7za a -p -mx=9 -si ${LOCAL_Y2M2}/${current_backup_7z}"
    time sudo docker exec ${DATABASE_CONTAINER} pg_dumpall -U ${DB_user_NAME} | 7za a -p -mx=9 -si ${LOCAL_Y2M2}/${current_backup_7z}
    echo "(5-6) 보관용 로컬 폴더입니다: ls -lR ${LOCAL_Y2M2}"
    ls -lR ${LOCAL_Y2M2}
    echo "#-- (5-7) 오늘 요일이름의 파일을 클라우드로 복사합니다: time rclone copy ${LOCAL_Y2M2}/${DB_sql7z} ${CLOUD_NAME}:${CLOUD_Y2M2}/ (prn 0m5.001s; yscart 0m5.816s)"
    time rclone copy ${LOCAL_Y2M2}/${DB_sql7z} ${CLOUD_NAME}:${CLOUD_Y2M2}/
    echo "#-- (5-8) 클라우드 폴더입니다: time rclone lsl ${CLOUD_NAME}:${CLOUD_Y2M2} (prn 0m3.558s; yscart 0m3.922s)"
    time rclone lsl ${CLOUD_NAME}:${CLOUD_Y2M2}
    # echo "#-- (5-7) 오늘 요일이름의 파일을 클라우드로 복사합니다: time rclone copy ${LOCAL_Y2M2}/${current_backup_7z} ${CLOUD_NAME}:${CLOUD_Y2M2}/"
    # time rclone copy ${LOCAL_Y2M2}/${DB_sql7z} ${CLOUD_NAME}:${CLOUD_Y2M2}/
    # echo "#-- (5-8) 클라우드 폴더입니다. time rclone lsl ${CLOUD_NAME}:${CLOUD_Y2M2}"
    # time rclone lsl ${CLOUD_NAME}:${CLOUD_Y2M2}
    echo "(5-9) 위키 컨테이너를 다시 시작합니다: sudo docker start ${WIKI_CONTAINER} ; sudo docker ps -a"
    sudo docker start ${WIKI_CONTAINER} ; sudo docker ps -a
fi
echo "🎶 (5-10) --------------------"
```

## 6. 백업파일을 DB 에 도로담는 리스토어 작업

1. 구글 클라우드로 백업했던 wiki.js db 파일을 로컬 폴더로 복사한다.
1. 복사한 db 파일 이름 을 다음과 같이 스크립트를 사용해서 wiki.js 에 올린다.
1. 리스토어 하기 전에, 현재의 데이터베이스를 저장할 것인지 물어서, 답에 따라 현재 db 를 만들어 놓고 나서 리스토어한다

`백업 backup`: 현재의 데이터베이스를 **wikipg-220907수-1802-proenpi4b.sql.7z** 와 같은 이름으로 압축해서 저장한다.
`리스토어 restore`: 압축해서 보관했던 백업 파일을 데이터베이스에 도로 부어 담는다.
`현재 상태의 마지막 백업`: 백업파일을 리스토어 하는 경우, 현재의 db 에 들어있던 데이터는 백업파일에 의해 지워진다. 그래서 일단 현재상태의 db 를 **" last-\${DATABASE_CONTAINER}-\$(date +%y%m%d_%H%M%S)-\$(uname -n).sql.7z "** 등으로 백업하고서 리스토어 하기 위해서 마지막 백업을 실시한다.

```
lll=$(tput bold)$(tput setaf 0); rrr=$(tput bold)$(tput setaf 1); ggg=$(tput bold)$(tput setaf 2); yyy=$(tput bold)$(tput setaf 3); bbb=$(tput bold)$(tput setaf 4); mmm=$(tput bold)$(tput setaf 5); ccc=$(tput bold)$(tput setaf 6); www=$(tput bold)$(tput setaf 7); xxx=$(tput bold)$(tput sgr0); uuu=$(tput cuu 2)

for i in {0..3}; do echo "#"; done

#----> wiki.js 도커에서 쓰는 bash 변수 선언.
#--
DOCKER_DIR="/home/docker" #----- dwjs 도커 디렉토리 홈
DATABASE_DIR="${DOCKER_DIR}/wikijs_data" #-- dwjs wiki 데이터베이스 보관 디렉토리
YML_DIR="${DOCKER_DIR}/wikijs_yml" #-------- dwjs docker-compose.yml 을 보관하는 /home/docker/ 아래의 디렉토리
YML_NAME="${YML_DIR}/docker-compose.yml" #-- dwjs docker-compose.yml 이름을 지정
DATABASE_SERVICE="db_srv" #----- dwjs 데이터베이스 서비스 이름
DATABASE_NAME="wikidb" #-------- dwjs 데이터베이스 이름
DATABASE_CONTAINER="pgwikic" #-- dwjs 데이터베이스 컨테이너 이름
DB_user_NAME="imwiki" #--------- dwjs 데이터베이스 유저 이름
DB_user_PASS="wikipswd" #------- dwjs 데이터베이스 유저 비번
WIKI_SERVICE="wiki_srv" #---- dwjs 위키 서비스 이름
if [ "x${WIKI_PORT_NO}" = "x" ]; then
    WIKI_PORT_NO="7700" #-------- dwjs 위키 포트 번호
fi
WIKI_CONTAINER="wikijsc" #--- dwjs 위키 컨테이너
CLOUD_NAME="tpn3mi" #--------- dwjs rclone 백업용 클라우드 이름
LOCAL_BACKUP_DIR="${DOCKER_DIR}/backup/${DATABASE_CONTAINER}" #-- dwjs 압축한 데이터베이스 백업 디렉토리
#--
#<---- wiki.js 도커에서 쓰는 bash 변수 선언.

#--> 로컬과 원격 보관장소
this_y4m2=$(date +%Y)-$(date +%m) #- 2022-08
LOCAL_Y2M2=${LOCAL_BACKUP_DIR}/${this_y4m2}
if [ ! -d ${LOCAL_Y2M2} ]; then
    echo "(6-1) ${LOCAL_Y2M2} 로컬 디렉토리를 만듭니다: mkdir -p ${LOCAL_Y2M2}"
    mkdir -p ${LOCAL_Y2M2}
fi
CLOUD_Y2M2=${DATABASE_CONTAINER}/${this_y4m2}
#<-- 로컬과 원격 보관장소

#-- ----> 리스토어 파일이 있으면 현재의 DB 를 백업하고 리스토어 한다.
if [ "x$zzz" = "x" ]; then
    zzz="$(ls -ltr ${LOCAL_BACKUP_DIR}}/*.7z | tail -1 | awk '{print $9}')"
fi
echo "(6-2) ls -lR ${LOCAL_BACKUP_DIR} #--- 백업 디렉토리 내용"
ls -lR ${LOCAL_BACKUP_DIR}
echo "🖍️ (6-3) 전체 경로를 다 지정하는 리스토어 파일을 입력하세요: [ ${zzz} ]"
read a
if [ "x$a" = "x" ]; then
    a=${zzz}
fi
zzz=${a}

if [ "x${zzz}" = "x" ] || [ ! -f "${zzz}" ]; then
    #-- ----> 리스토어 파일이 없으면 여기서 끝냄.
    cat <<__EOF__
||| (6-2) ls -lR ${LOCAL_BACKUP_DIR} #--- 백업 디렉토리 내용
$(ls -lR ${LOCAL_BACKUP_DIR})
|||
||| (6-3) 지정한 (리스토어 할) ${zzz} 파일이 존재하지 않습니다.
|||
||| 리스토어 할 파일 이름이 "${LOCAL_Y2M2}" 디렉토리에 있는
||| "last-${DATABASE_CONTAINER}-\$(date +%y%m%d_%H%M%S)-$(uname -n).sql.7z" 인 경우:
||| 
||| zzz="${LOCAL_Y2M2}/last-${DATABASE_CONTAINER}-\$(date +%y%m%d_%H%M%S)-$(uname -n).sql.7z"
|||
||| (복구하려는 파일 이름을 담은 환경 변수의 이름이 'zzz' 임.)
|||
||| 이와 같이 Bash Terminal 에서 선언하고 나서, 이 스크립트를 다시 실행해야 합니다.
||| 
🎶 (6-4) ${zzz} 파일이 없으므로 작업을 중단합니다.
__EOF__
    #-- <---- 리스토어 파일이 없으면 여기서 끝냄.
else
    #-- ----> 리스토어 할 .7z 파일이 있다.
    sql_name=$(basename ${zzz}) # 백업파일 이름만 꺼냄
    sql_dir=${zzz%/$sql_name} # 백업파일 이름을 빼고 나머지 디렉토리만 담음
    cat <<__EOF__
zzz = "${zzz}"
sql_name = ${sql_name} # 백업파일 이름만 꺼냄
sql_dir = ${sql_dir} # 백업파일 이름을 빼고 나머지 디렉토리만 담음

🖍️ (6-5) 현재의 DB 를 백업하지 않으려면, 소문자 'n' 을 눌러 주세요."
__EOF__
    read N_is_current_no_backup ; echo "${uuu}"
    if [ "x${N_is_current_no_backup}" != "xn" ]; then
        N_is_current_no_backup="y"
    fi
    echo "[ 현재 DB 를 백업 = ${N_is_current_no_backup} ]"

    echo "qq1----> N_is_current_no_backup = [ ${N_is_current_no_backup} ]"
    echo "qq1----> restore_only = [ ${restore_only} ]"

    #-- --> '백업 받기 전' 위키 컨테이너 정지
    cat <<__EOF__
(6-6) 백업을 시작하기전 위키 컨테이너를 멈춥니다.
      sudo docker ps -a ; sudo docker stop ${WIKI_CONTAINER} ; sudo docker ps -a
__EOF__
    sudo docker ps -a ; sudo docker stop ${WIKI_CONTAINER} ; sudo docker ps -a
    #-- <-- '백업 받기 전' 위키 컨테이너 정지

    if [ "x$N_is_current_no_backup" = 'xn' ]; then
        #-- ----> 현재의 DB 를 백업하지 않는다 선택.
        cat <<__EOF__
# |
# |
# |
# |
# |
# | !!!! 주의 !!!! 현재 DB 를 다운로드 + 백업하지 않고, 업로드 합니다.
# |
# | 여기서 소문자 'y' 를 누르면 현재의 DB 백업을 하지 않습니다.
# |
# | 다른 글자거나 그냥 Enter 를 누르면 백업이 진행됩니다.
# |
🖍️ (6-7) 백업 하지 않고 = 'y' Enter ('y' = NO BACKUP):
__EOF__
        read restore_only ; echo "${uuu}"
        if [ "x$restore_only" = "xy" ]; then
            N_is_current_no_backup="n"
        else
            N_is_current_no_backup="y"
        fi
        echo "[ 현재 DB 를 백업하지 않음 = ${restore_only} ]"

        #-- ----> 현재의 DB 를 백업하지 않는다 선택.
    fi

    echo "qq2----> N_is_current_no_backup = [ ${N_is_current_no_backup} ]"
    if [ "x$N_is_current_no_backup" != 'xn' ]; then
        echo "x$N_is_current_no_backup != 'xn'"
    else
        echo "x$N_is_current_no_backup = 'xn'"
    fi
    echo "qq2----> restore_only = [ ${restore_only} ]"

    if [ "x$N_is_current_no_backup" != 'xn' ]; then
        #-- ----> 현재 DB 를 다운로드 + 백업 합니다.

        current_backup_7z="${LOCAL_Y2M2}/last-${DATABASE_CONTAINER}-$(date +%y%m%d_%H%M%S)-$(uname -n).sql.7z"
        cat <<__EOF__
(6-8) 지정한 백업파일을 데이터베이스에 붓기 전에,
      현재 운영중인 DB 를 먼저 ${LOCAL_Y2M2} 에 백업합니다.
      
      time sudo docker exec ${DATABASE_CONTAINER} pg_dumpall -U ${DB_user_NAME} | 7za a -mx=9 -p -si ${current_backup_7z}

🖍️ (6-9) 백업하는 .7z 파일에 지정해 줄 새로운 ===비밀번호=== 를 입력하세요.

__EOF__
        time sudo docker exec ${DATABASE_CONTAINER} pg_dumpall -U ${DB_user_NAME} | 7za a -mx=9 -p -si ${current_backup_7z}
        cat <<__EOF__
(6-10) 오늘 요일이름의 파일을 클라우드로 복사합니다.
      time rclone copy ${current_backup_7z} ${CLOUD_NAME}:${CLOUD_Y2M2}/
__EOF__
        time rclone copy ${current_backup_7z} ${CLOUD_NAME}:${CLOUD_Y2M2}/
        cat <<__EOF__
(6-11) 클라우드 폴더입니다.
       time rclone lsl ${CLOUD_NAME}:${CLOUD_Y2M2}
__EOF__
        time rclone lsl ${CLOUD_NAME}:${CLOUD_Y2M2}

        #-- <---- 현재 DB 를 다운로드 + 백업 합니다.
    fi

    cat <<__EOF__
(6-12) 기존의 데이터베이스를 삭제합니다.
       time sudo docker exec -it ${DATABASE_CONTAINER} dropdb -U ${DB_user_NAME} ${DATABASE_NAME}
__EOF__
    time sudo docker exec -it ${DATABASE_CONTAINER} dropdb -U ${DB_user_NAME} ${DATABASE_NAME}
cat <<__EOF__
(6-13) 빈 데이터베이스를 새로 만듭니다.
       time sudo docker exec -it ${DATABASE_CONTAINER} createdb -U ${DB_user_NAME} ${DATABASE_NAME}
__EOF__
    time sudo docker exec -it ${DATABASE_CONTAINER} createdb -U ${DB_user_NAME} ${DATABASE_NAME}
    cat <<__EOF__
(6-14) 지정한 백업파일을 데이터베이스에 다시 붓습니다. (RESTORE)

       time 7za x -so ${zzz} | sudo docker exec -i ${DATABASE_CONTAINER} psql -U ${DB_user_NAME} ${DATABASE_NAME}

🖍️ (6-15) 백업할때 입력한 ----비밀번호---- 를 입력하세요.

__EOF__
    time 7za x -so ${zzz} | sudo docker exec -i ${DATABASE_CONTAINER} psql -U ${DB_user_NAME} ${DATABASE_NAME}
    cat <<__EOF__
(6-16) 멈췄던 위키 컨테이너를 다시 시작합니다.
       sudo docker start ${WIKI_CONTAINER} ; sudo docker ps -a
__EOF__
    sudo docker start ${WIKI_CONTAINER} ; sudo docker ps -a
    echo "(6-17) 백업 작업이 끝났습니다."
    #-- <---- 리스토어 할 .7z 파일이 있다.
fi
zzz=""
echo "🎶 (6-18) --------------------"
```





┏━┳┓
┃╌┃┃🇰🇷
┣━╋┫
┗━┻┛

### `날짜 역순` 으로 `한달치만` 기록하고, 달이 바뀌면 다음과 같이 처리한다. 
1. Page Action --> Move/Rename --> Pages 에서 옮기려는 `2023-09 일지` 를 클릭 --> 아랫쪽 `[en v]`옆의 Path 에 `/ ilji/2309` 입력하고 --> `[v Select]` 클릭해서  파일 이름을 바꾼다. 
1. 다시 불러오기 `Ctrl + R` 하면 --> 윗작업의 결과로 `"/ home"` 파일이 `"/ ilji/2309"` 파일로 바뀌었기 때문에 `"/ home"` 파일이 없으므로 --> 나온 화면에서 `[+ CREATE HOME PAGE]` 를 누른 다음,
Title:
`2023-10 일지`
Short:
`작성중`
Path:
`/ home`
으로 지정해서 `"/ home"` 파일을 새로 만든다. 
1. HP ENVY-7640 printer 인쇄시 (레이아웃 `세로방향` / 설정 더보기 > 용지 크기 (`A4`) / 시트당 페이지 수 (`1`) / 여백 맞춤 > 상하 `10m/m`, 좌우 `5m/m` / 양면 `[v]`양면에 인쇄 / `[-]` 위로 넘김)

✨
✨

### Zoom 테스트
Zoom 테스트 미팅 https://support.zoom.us/hc/ko-kr/articles/115002262083-Zoom-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EB%AF%B8%ED%8C%85-%EC%B0%B8%EC%97%AC%ED%95%98%EA%B8%B0

남양주평생학습포털다산서당
https://dasanedu.nyj.go.kr/home/myLectureList.do

1. 💗❤️💚🐾📌😊😃😝🤣🤗🌞🔥🍊🍓●➡️➜🔎📈🔽✅⌚⭐❱❱💡🔋🔉💸
💰🎁1️⃣2️⃣3️⃣🔗👈👉🔼🎨👀🚀🎯💰🔑⚡☕💬🎂✨🧩🛍️🚩🐈🐾🐱🐕
🐒 🎗 ☢️️️️ 👹 🌙 
🇰🇷🌳🚲🔵🚙🔱 ✍

💗 ❤️ 💚 🐾 📌 😊 😃 😝 🤣 🤗 🌞 🔥 🍊 🍓 ● ➡️ ➜ 🔎 📈 🔽 ✅
⌚ ⭐ ❱ ❱ 💡 🔋 🔉 💸 💰 🎁 1️⃣ 2️⃣ 3️⃣ 🔗 👈 👉 🔼 🎨 👀 🚀 🎯
💰 🔑 ⚡ ☕ 💬 🎂 ✨ 🧩 🛍️ 🚩 🐈 🐾 🐱 🐕 🐒 🎗 ☢️️️️ 👹 🌙 🇰🇷
🌳 🚲 🔵 🚙 🔱

💗❤️💚🐾📌😊😃😝🤣🤗🌞🔥🍊🍓●➡️➜🔎📈🔽✅⌚⭐❱❱💡🔋🔉💸
💰🎁1️⃣2️⃣3️⃣🔗👈👉🔼🎨👀🚀🎯💰🔑⚡☕💬🎂✨🧩🛍️🚩🐈🐾🐱🐕
🐒🎗☢️️️️👹🌙🇰🇷🌳🚲🔵🚙🔱

🎵   🎶   🔔   📢   🖍️   

📌 유니코드 상자그리기 기호 wepplication.github.io/tools/charMap/#unicode-2500-257F
📌 이모지 https://wepplication.github.io/tools/charMap/#emoji
📌 특수문자 이모티콘 모음 https://wepplication.github.io/tools/charMap/#specialChar

✨
✨

1. (2018-08 178.p) Kotlin Quick Start Guide By Marko Devcic $25.99 Publication ISBN 9781789344189 https://subscription.packtpub.com/book/programming/9781789344189/1
1. (2022-03 184.p) Kotlin 다중 플랫폼 모바일로 애플리케이션 개발 간소화 로베르트 나기 https://subscription.packtpub.com/book/programming/9781801812580/3
1. (2018-05 310.p) Spring 5 및 Kotlin으로 애플리케이션 구축
작업 환경 준비 https://subscription.packtpub.com/book/web-development/9781788394802/1/ch01lvl1sec05/preparing-the-working-environment
1. (2019-01 392.p) Android 애플리케이션 개발을 위한 Spring 배우기
(4) Android용 스프링 모듈 https://subscription.packtpub.com/book/programming/9781789349252/4
1. (2022-12 270.p) Spring Boot 3.0 학습 - 제3판 그렉 L. 턴키 스트 $35.99 ISBN 9781803233307 https://subscription.packtpub.com/book/web-development/9781803233307/2/ch02lvl1sec03/technical-requirements
1. Build RESTful APIs Using Kotlin and Spring Boot [Video] By Dilip Sundarraj $49.99 Video https://subscription.packtpub.com/video/web-development/9781804616451/p10/video10_6/integration-test-for-the-get-endpoint-to-retrieve-all-the-courses
1. Jetpack 및 Kotlin을 사용하여 최신 Android 개발을 시작하세요. https://subscription.packtpub.com/book/mobile/9781801811071/pref
1. Jetpack Compose를 사용한 Android UI 개발 https://subscription.packtpub.com/book/business-and-other/9781801812160/1
git clone https://github.com/PacktPublishing/Android-UI-Development-with-Jetpack-Compose.git
1. LibreOffice Calc Guide 7.2 https://books.libreoffice.org/en/CG72/CG72.html



1. (2023-01-01 522.p) PostgreSQL 15 마스터하기 - 제5판 https://subscription.packtpub.com/book/business-other/9781803248349/1

1. (2023-05 704p) Kotlin으로 Android 앱을 빌드하는 방법-제 2 판 How to Build Android Apps with Kotlin - Second Edition https://subscription.packtpub.com/book/mobile/9781837634934/pref

1. (2022-01 356p) Kotlin 디자인 패턴 및 모범 사례 - 제2판 https://subscription.packtpub.com/book/programming/9781801815727/2/ch02lvl1sec12/classes-and-inheritance


1. 웹소설 > 작가연재 > 현대판타지, 드라마 독점 "이번 생에는 음악의 전설이 되었다" 글 에어콘1https://novel.munpia.com/381966/page/1/neSrl/5690057
1. Run Linux on ESP32 - how to run the Linux kernel on an ESP32 Tam Hanna 구독자 2.39천명 조회수 3.2만회  9일 전 https://www.youtube.com/watch?v=5oKeVyxgwzk
1. 웹개발 이렇게 쉬웠나? 웹사이트 7분만에 개발하고 실전 배포하기 조코딩 JoCoding 구독자 55.2만명 조회수 35만회  1년 전  조코딩의 코딩 기초와 웹 프로그래밍 (2022) https://www.youtube.com/watch?v=4mRae9N2pU4
1. I fixed a C64 using a $20 OSCILLOSCOPE Sayaka's Digital Attic 구독자 3.08천명 조회수 3.4만회 https://www.youtube.com/watch?v=7kkzIV5yTPQ
1. 매일 이 주식을 사모으세요. 역대급 부자 될 기회를 절대 놓치지 마세요! (중국전문가 어반대 교수 안유화) 월급쟁이부자들TV 구독자 116만명 조회수 22만회  2주 전 https://www.youtube.com/watch?v=tdUKslC-HlM
1. 코딩 교육 끝판왕 등장?! 코딩쌤과 코린이를 위한 교재 추천! / 아두이노로 만드는 20가지 프로젝트 키트/파이썬과 마이크로비트로 배우는 실전 코딩 프로젝트 키트(+이벤트안내) 나도메이커 구독자 1.3만명 조회수 17회  51분 전 https://www.youtube.com/watch?v=5Qr7ymcFa38
1. Testing out the Milk-V Duo - The new $9 RISC-V eSBC that runs Linux!  Platima Tinkers 구독자 2.19천명 조회수 31,009회  2023. 9. 2. https://www.youtube.com/watch?v=YqUtGk0DHbQ&t=1231s
1. 맨눈으로 절대 못 보는 수소와 산소를 발견한 과학자들! 도대체 어떻게 발견했을까?  리뷰엉이: Owl's Review 구독자 151만명 조회수 612,208회  2022. 10. 15. https://www.youtube.com/watch?v=SoVV8KHpM3U
도서 '다정한 물리학'은 아래 링크로 구매할 수 있습니다.
교보문고 : https://bit.ly/3VoO5N8
예스24 : https://bit.ly/3CXjWgJ
알라딘 : https://bit.ly/3SZW6q1


### 오늘의 링크
### 세상 돌아보기
### 컴활은 즐거워
### 나불나불 공염불
### 광고사절
### 난중일기
