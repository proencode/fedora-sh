[날짜 역순] 으로 [한달치만] 기록한다.
월이 바뀌면 기존 데이터를 `/ ilji/2205` 로 이름을 바꾸어 저장하고, **New Page** 에서 `/ home` 으로 위치를 지정하고, **Title** 을 이 달로 바꾸고, 이 머릿말을 복사+붙인후 날짜별로 일지를 쓴다.

## 220531 화
푸른숲도서관 1150

gmarket microCD Evoplus 256GB B-MC256KAEL 31,690
```
rclone copy ./wikijs-*7z yosjeon:wiki.js/
```

## 220530 월
진접도서관 1050

centos7
2022/[1-7 =지정 요일] 백업
2022/[01 ~ 12 = 월] 월 마감일 지정 (= 28일) 백업
2022/05/30/[01 ~ 22] 시간마다 백업

## 220528 토
진접도서관 1510 8회저국동시지방선거사전투표

## 220527 금
푸른숲도서관 0910
- DOT-files > .bashrc .grails .ivy2 .java 복사
- /usr/local/share/grails , groovy
- grails 1.3.7
- java 1.6.0_21
- mysql 14.12-5.0.95
- groovy 1.7.11
- Plugin [mail-1.0] [jprogress-0.2]
```
grails run-app
Error occured during initialization of vm
Unable to load native library: libnsl.so.1: cannot open shared object file.

lib/libnsl.o.1 -> /lib64/libnsl.so.3.0.0
lib64/libnsl.so.1 -> libnsl.so.3.0.0

grails run-appgroovy.cli
오류: 기본 클래스 org.codehaus.groovy.cli
Support.GrailsStarter 찾거나 로드할 수 없습니다.
```

## 220526 목
푸른숲도서관 1020

swtr신임 이번주 인수인계중, 9991-9997 이경주씨 금주만근무한다고 함.  swtr4월종료
swtr 일간칩재고 55t 수거현재고 200t

### rclone 설치 및 구글드라이브 연동
출처: https://www.woobi.org/91 [Woobi's blog:티스토리] 2020. 12. 3.

Ubuntu server 20.04 에 rclone 설치 및 구글드라이브 마운트 하기.
1. unzip 패키지 설치
rclone 설치를 하기 위해서는 unzip 이 설치 되어있어야 한다.
`sudo apt-get install fuse unzip`
2. rclone 설치
`curl https://rclone.org/install.sh | sudo bash`
3. rclone 실행 및 구글드라이브 연동 설정
`rclone config`
`n/s/q>` #-- n 선택(신규 연결)
`name> kaosnote` #-- (임의로 적는다.)
#-- 구글 드라이브 번호 확인(13번, 12번 아님)
`Storage>` #-- 13 입력
`client_id>` #-- 입력하지 않고 확인.
`client_secret>` #-- 입력하지 않고 확인
`scope>` #-- 1번 입력
`root_folder_id>` #-- 입력하지 않고 확인.
`service_account_file>` #-- 입력하지 않고 확인
`Edit advanced config?>` #-- n 입력
`Use auto config?` #-- n 입력(수동입력)
#-- 입력하고 나오는 링크를
`"https://accounts.google.com/o/oauth2/auth?access_type=................."`
복사하여 인터넷 브라우져에 입력한다
인터넷 브라우져에 링크를 입력하고 구글 계정을 로그인 한다.
계정 권한 부여를 승인한다.
코드를 복사한다.
`Enter verification code>` #-- 복사한 코드를 입력하고
`Configure this as a team drive?>` #-- n 을 입력한다
`y/e/d>` #-- y (설정완료)
`e/n/d/r/c/s/q>` #-- q (끝내기) 를 입력한다.

```
12:51:16목220526 yos@fed36lib /home/gdrive-kaos.note
gdrive-kaos.note $ rclone config
2022/05/26 12:51:24 NOTICE: Config file "/home/yos/.config/rclone/rclone.conf" not found - using defaults
No remotes found - make a new one
n) New remote
s) Set configuration password
q) Quit config
n/s/q> n
name> kaosnote
Option Storage.
Type of storage to configure.
Enter a string value. Press Enter for the default ("").
Choose a number from below, or type in your own value.
 1 / 1Fichier
   \ "fichier"
 2 / Alias for an existing remote
   \ "alias"
 3 / Amazon Drive
   \ "amazon cloud drive"
 4 / Amazon S3 Compliant Storage Providers including AWS, Alibaba, Ceph, Digital Ocean, Dreamhost, IBM COS, Minio, SeaweedFS, and Tencent COS
   \ "s3"
 5 / Backblaze B2
   \ "b2"
 6 / Better checksums for other remotes
   \ "hasher"
 7 / Box
   \ "box"
 8 / Cache a remote
   \ "cache"
 9 / Citrix Sharefile
   \ "sharefile"
10 / Compress a remote
   \ "compress"
11 / Dropbox
   \ "dropbox"
12 / Encrypt/Decrypt a remote
   \ "crypt"
13 / Enterprise File Fabric
   \ "filefabric"
14 / FTP Connection
   \ "ftp"
15 / Google Cloud Storage (this is not Google Drive)
   \ "google cloud storage"
16 / Google Drive
   \ "drive"
17 / Google Photos
   \ "google photos"
18 / Hadoop distributed file system
   \ "hdfs"
19 / Hubic
   \ "hubic"
20 / In memory object storage system.
   \ "memory"
21 / Jottacloud
   \ "jottacloud"
22 / Koofr
   \ "koofr"
23 / Local Disk
   \ "local"
24 / Mail.ru Cloud
   \ "mailru"
25 / Mega
   \ "mega"
26 / Microsoft Azure Blob Storage
   \ "azureblob"
27 / Microsoft OneDrive
   \ "onedrive"
28 / OpenDrive
   \ "opendrive"
29 / OpenStack Swift (Rackspace Cloud Files, Memset Memstore, OVH)
   \ "swift"
30 / Pcloud
   \ "pcloud"
31 / Put.io
   \ "putio"
32 / QingCloud Object Storage
   \ "qingstor"
33 / SSH/SFTP Connection
   \ "sftp"
34 / Sia Decentralized Cloud
   \ "sia"
35 / Sugarsync
   \ "sugarsync"
36 / Tardigrade Decentralized Cloud Storage
   \ "tardigrade"
37 / Transparently chunk/split large files
   \ "chunker"
38 / Union merges the contents of several upstream fs
   \ "union"
39 / Uptobox
   \ "uptobox"
40 / Webdav
   \ "webdav"
41 / Yandex Disk
   \ "yandex"
42 / Zoho
   \ "zoho"
43 / http Connection
   \ "http"
44 / premiumize.me
   \ "premiumizeme"
45 / seafile
   \ "seafile"
Storage> drive
Option client_id.
Google Application Client Id
Setting your own is recommended.
See https://rclone.org/drive/#making-your-own-client-id for how to create your own.
If you leave this blank, it will use an internal key which is low performance.
Enter a string value. Press Enter for the default ("").
client_id> 
Option client_secret.
OAuth Client Secret.
Leave blank normally.
Enter a string value. Press Enter for the default ("").
client_secret> 
Option scope.
Scope that rclone should use when requesting access from drive.
Enter a string value. Press Enter for the default ("").
Choose a number from below, or type in your own value.
 1 / Full access all files, excluding Application Data Folder.
   \ "drive"
 2 / Read-only access to file metadata and file contents.
   \ "drive.readonly"
   / Access to files created by rclone only.
 3 | These are visible in the drive website.
   | File authorization is revoked when the user deauthorizes the app.
   \ "drive.file"
   / Allows read and write access to the Application Data folder.
 4 | This is not visible in the drive website.
   \ "drive.appfolder"
   / Allows read-only access to file metadata but
 5 | does not allow any access to read or download file content.
   \ "drive.metadata.readonly"
scope> 1
Option root_folder_id.
ID of the root folder.
Leave blank normally.
Fill in to access "Computers" folders (see docs), or for rclone to use
a non root folder as its starting point.
Enter a string value. Press Enter for the default ("").
root_folder_id> 
Option service_account_file.
Service Account Credentials JSON file path.
Leave blank normally.
Needed only if you want use SA instead of interactive login.
Leading `~` will be expanded in the file name as will environment variables such as `${RCLONE_CONFIG_DIR}`.
Enter a string value. Press Enter for the default ("").
service_account_file> 
Edit advanced config?
y) Yes
n) No (default)
y/n> n
Use auto config?
 * Say Y if not sure
 * Say N if you are working on a remote or headless machine

y) Yes (default)
n) No
y/n> n
Option config_verification_code.
Verification code
Go to this URL, authenticate then paste the code here.
https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=202264815644.apps.googleusercontent.com&redirect_uri=urn%3Aietf%3Awg%3Aoauth%3A2.0%3Aoob&response_type=code&scope=https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fdrive&state=fmQGL_ePqi8-L4AhdSt5OQ
Enter a string value. Press Enter for the default ("").
config_verification_code> 4/1AX4XfWhEzEYZD00yyzklY99EVnco4ua0TetBmznOyal9Ey1e4_q57mV-UcE
Configure this as a Shared Drive (Team Drive)?

y) Yes
n) No (default)
y/n> n
--------------------
[kaosnote]
type = drive
scope = drive
token = {"access_token":"ya29.a0ARrdaM8hiCip69WPoHTKIFoqjy-Bzu98JMi9fVlBrFdBjLP6XNF1BfvJ6nUVhpNwzrYOJTc9_Q6r1aUCaJ3wbphWcqAskBmq1qcSTELO1TGsLH4VQQNx057ArnSlUe-7fLGu31_yZn6BOM27sWSDDVuAbTCi","token_type":"Bearer","refresh_token":"1//0eclSw5n8Kpl3CgYIARAAGA4SNwF-L9IrUnXRGUqXjhd69m4t_d4ZdEQxhAmA2SlF6yZh2ABIiFL0xf7Ua0u9CztSz-eEMBZUGo0","expiry":"2022-05-26T13:54:40.597636433+09:00"}
team_drive = 
--------------------
y) Yes this is OK (default)
e) Edit this remote
d) Delete this remote
y/e/d> y
Current remotes:

Name                 Type
====                 ====
kaosnote             drive

e) Edit existing remote
n) New remote
d) Delete remote
r) Rename remote
c) Copy remote
s) Set configuration password
q) Quit config
e/n/d/r/c/s/q> q
12:55:35목220526 yos@fed36lib /home/gdrive-kaos.note
gdrive-kaos.note $ 
```

4. 구글 드라이브 디렉토리에 마운트 하기.
- 마운트 할 디렉토리 생성
`mkdir /home/gdrive-kaos.note` #-- (임의 생성)
- 디렉토리에 구글드라이브 마운트 하기.
`rclone mount --allow-non-empty --allow-other --drive-chunk-size 64M kaosnote: /home/gdrive-kaos.note/ &`
#-- --drive-chunk-size 64M
#-- 64M : 숫자 입력에 따라 업로드 속도가 달라진다.
#-- (ex. 64, 128, 256 ...)
#-- kaosnote : rclone 설치중 name> 에 입력한 값을 적어준다.
#-- /home/gdrive-kaos.note : 연결할 디렉토리 명을 적어준다.
#-- (ex. `mkdir /home/gdrive-kaos.note` 로 생성한 디렉토리)

- 실행 내역

12:55:35목220526 yos@fed36lib /home/gdrive-kaos.note
gdrive-kaos.note $  `rclone mount --allow-non-empty --allow-other --drive-chunk-size 64M kaosnote: /home/gdrive-kaos.note/ &`
```
[1] 9735
12:59:20목220526 yos@fed36lib /home/gdrive-kaos.note
gdrive-kaos.note $ 2022/05/26 12:59:21 mount helper error: fusermount: option allow_other only allowed if 'user_allow_other' is set in /etc/fuse.conf
2022/05/26 12:59:21 Fatal error: failed to mount FUSE fs: fusermount: exit status 1
 
[1]+  나감 1                rclone mount --allow-non-empty --allow-other --drive-chunk-size 64M kaosnote: /home/gdrive-kaos.note/
```
13:01:20목220526 yos@fed36lib /home/gdrive-kaos.note
gdrive-kaos.note $ `sudo vi /etc/fuse.conf`
13:02:47목220526 yos@fed36lib /home/gdrive-kaos.note
gdrive-kaos.note $ `cat /etc/fuse.conf`
```
# mount_max = 1000
user_allow_other # user_allow_other #-- 2022/05/26 12:59:21 mount helper error: fusermount: option allow_other only allowed if 'user_allow_other' is set in /etc/fuse.conf 오류로 앞의 # 를 떼고 저장한다.
```
13:02:56목220526 yos@fed36lib /home/gdrive-kaos.note
gdrive-kaos.note $ `ls -l /home/gdrive-kaos.note/`
합계 0
13:03:41목220526 yos@fed36lib /home/gdrive-kaos.note
gdrive-kaos.note $ `rclone mount --allow-non-empty --allow-other --drive-chunk-size 64M kaosnote: /home/gdrive-kaos.note/ &`
[1] 9875
13:04:02목220526 yos@fed36lib /home/gdrive-kaos.note
gdrive-kaos.note $ `ls`
13:04:27목220526 yos@fed36lib /home/gdrive-kaos.note
gdrive-kaos.note $ `ls -a`
.  ..
#-- 마운트 하기전에 이 디렉토리로 들어왔기 때문에
#-- 파일이 하나도 보이지 않는다.

13:05:24목220526 yos@fed36lib /home/gdrive-kaos.note
gdrive-kaos.note $ `df`
```
파일 시스템        1K-블록      사용      가용 사용% 마운트위치
devtmpfs              4096         0      4096    0% /dev
tmpfs              1738828     43172   1695656    3% /dev/shm
tmpfs               695532      1604    693928    1% /run
/dev/sda2         32504832   9747972  22343596   31% /
tmpfs              1738828      8208   1730620    1% /tmp
/dev/sda2         32504832   9747972  22343596   31% /home
/dev/sda1           996780    212680    715288   23% /boot
Downloads        499312636 236940396 262372240   48% /media/sf_Downloads
tmpfs               347764       172    347592    1% /run/user/1000
kaosnote{84KcY}:  15728640   1137336  14591304    8% /home/gdrive-kaos.note
```
13:05:46목220526 yos@fed36lib /home/gdrive-kaos.note
gdrive-kaos.note $ `ls /home/gdrive-kaos.note/`
db-files  santa-memo  source_env-files  war-files
#-- 디렉토리를 지정해서 보면 보인다.

13:05:53목220526 yos@fed36lib /home/gdrive-kaos.note
gdrive-kaos.note $ `cd /home/gdrive-kaos.note/`
#-- 해당 디렉토리로 다시 들어간다.

13:06:01목220526 yos@fed36lib /home/gdrive-kaos.note
gdrive-kaos.note $ `ls -R`
```
.:
db-files  santa-memo  source_env-files  war-files

./db-files:
2022

./db-files/2022:
05

./db-files/2022/05:

./santa-memo:
220519-kaos-server-crash-복구화면

./santa-memo/220519-kaos-server-crash-복구화면:
 220519-기타사진                             '220519_114405-fsck 끝남.jpg'
'220519_112207-fsck 커맨드 시작 Pass 1.jpg'  '220519_142731-Grails Runtime Exception.jpg'
'220519_113219-fsck Pass 2.jpg'              '220519_142745-Grails Runtime Exception Stack Trace.jpg'
'220519_113755-fsck Pass 3 Pass 4.jpg'       '220519_142909-작업진행-진행중인 작업목록.jpg'
'220519_114302-fsck Pass 5.jpg'              '220519_142919-월마감 발행-메일 발송.jpg'

./santa-memo/220519-kaos-server-crash-복구화면/220519-기타사진:
IMG_20220519_112159.jpg  IMG_20220519_113447.jpg  IMG_20220519_113618.jpg  IMG_20220519_113858.jpg  IMG_20220519_114240.jpg
IMG_20220519_113124.jpg  IMG_20220519_113500.jpg  IMG_20220519_113714.jpg  IMG_20220519_113918.jpg  IMG_20220519_114252.jpg
IMG_20220519_113309.jpg  IMG_20220519_113516.jpg  IMG_20220519_113737.jpg  IMG_20220519_113938.jpg  IMG_20220519_144825.jpg
IMG_20220519_113332.jpg  IMG_20220519_113529.jpg  IMG_20220519_113819.jpg  IMG_20220519_113959.jpg
IMG_20220519_113421.jpg  IMG_20220519_113545.jpg  IMG_20220519_113836.jpg  IMG_20220519_114150.jpg

./source_env-files:
220525-home-DOT-files.7z  220525-project-kaosco_426-kaosorder2.7z  220525-usr_share_grails.7z

./war-files:
b.war  choho.war  kaosbuyer.war  kaosorder.war  kaosoyo.war  p.war  zkdhtm.war
13:06:25목220526 yos@fed36lib /home/gdrive-kaos.note
gdrive-kaos.note $ 
```

### Rclone의 sync, copy, move
[출처] 리눅스용 가상 드라이브 Rclone의 sync, copy, move 명령어 정리|작성자 라진 https://blog.naver.com/PostView.nhn?blogId=destinyrev&logNo=222509272635

Rclone은 원격지(상용 클라우드, NAS 등)의 드라이브를 로컬(rclone이 설치된 기기)에 하드 디스크 처럼 연결(마운트)해서 쓸 수 있게 해주는 앱입니다만, 굳이 마운트 하지 않아도 명령어 만으로 쓸 수도 있고, 명령어 만으로 쓸 경우 다양한 옵션을 제공해서, 마운트 할 때와 다른 이점이 있습니다. 

오늘은 rclone의 명령어 중, 가장 자주 쓰이는 sync, copy, move 명령어에 대해 알아보겠습니다.

#### 준비사항 및 배경 지식

- SSH 활성화 확인 ( https://blog.naver.com/destinyrev/222509626940 )
- Rclone VFS 방식으로 구글 드라이브 마운트 하기 (  https://blog.naver.com/destinyrev/222509270554 )

##### 명령어의 형식 및 기본 사용법
`rclone 명령어 소스 대상` 의 형식입니다.

1. 명령어

명령어 위치에는 sync, copy, move가 들어갈 수 있습니다.
`sync` : 대상을 체크하여, 소스와 비교해보고, 같지 않으면 동일하게 만들어 줍니다. 일반적으로 생각하는 양방향 동기화가 아니며, 대상에 있지만, 소스에 없으면, 그 파일은 삭제가 됩니다. 쉽게 말해 소스를 기준으로 동일하게 만들어 주는 명령어입니다.
`copy` : 일반적인 파일 복사와 같습니다. 소스를 대상에 복사해줍니다.
`move` : 일반적인 파일 이동과 같습니다. 소스를 대상으로 이동해줍니다.

2. 소스와 대상

`위치이름:경로` 의 형식입니다.

소스 자리에 위치이름:경로가 들어가며, 대상 자리에 위치이름:경로가 들어갑니다. 
여기서 위치이름은 로컬의 경우 생략되며, 그럴 경우 경로만 적으면 됩니다.
원격지의 경우, rclone에서 rclone config 명령어의 New remote 메뉴 생성한 원격지의 이름을 적으면 됩니다.
위치가 원격지라 원격지의 이름을 적을 경우, 경로는 원격지의 경로를 적어야 합니다. 
또한 위치이름과 경로에 빈 칸이 있을 시에 쌍따옴표를 양쪽에 달아줘야 합니다. "위치이름:경로"로 말이죠.

3. 예제

`rclone copy "/media/HDD1/사진" "gdrive:/백업/사진" &`

이라고 하면,
/media/HDD1/사진 경로에서 그 안의 모든 내용을
원격지인 rclone 에서 자신이 gdrive 라고 이름 지은 구글 드라이브 클라우드의 /백업/사진 경로 안에
복사해 넣으라는 뜻입니다.
& 은 데몬으로 명령어 실행하여, 백그라운드에서 동작시키므로, SSH를 꺼도 동작이 지속되게 하라는 뜻입니다.

`rclone copy "/media/HDD1/사진/사진1.jpg" "gdrive:/백업/사진" &`

이라고 하면,
/media/HDD1/사진 경로의 사진1.jpg파일을
원격지인 rclone에서 자신이 gdrive라고 이름 지은 구글 드라이브 클라우드의
/백업/사진 경로 안에 복사해넣으라는 뜻입니다.
& 은 데몬으로 명령어 실행하여, 백그라운드에서 동작시키므로, SSH를 꺼도 동작이 지속되게 하라는 뜻입니다.

`rclone sync "/media/HDD1/사진" "gdrive:/백업/사진" &`

이라고 하면,
rclone에서 자신이 gdrive라고 이름 지은 구글 드라이브 클라우드의 /백업/사진의 내용을
/media/HDD1/사진 의 내용과 비교해서
/media/HDD1/사진 을 기준으로 동일하게 합니다.
& 은 데몬으로 명령어 실행하여, 백그라운드에서 동작시키므로, SSH를 꺼도 동작이 지속되게 하라는 뜻입니다.

`rclone move "/media/HDD1/사진" "gdrive:/백업/사진" &`

이라고 하면,
/media/HDD1/사진 의 내용을
자신이 gdrive라고 이름 지은 구글 드라이브 클라우드의 /백업/사진 에 이동 시키라는 뜻입니다.
& 은 데몬으로 명령어 실행하여, 백그라운드에서 동작시키므로, SSH를 꺼도 동작이 지속되게 하라는 뜻입니다.

한 편, 로컬과 원격지 뿐만 아니라, 로컬과 로컬, 원격지와 원격지로도 sync, copy, move가 가능합니다.

`rclone copy "gdrive:/사진" "gdrive:/백업/사진" &`

자신이 gdrive라고 이름 지은 구글 드라이브 클라우드의 /사진의 내용을
같은 구글 드라이브 클라우드의 /백업/사진으로 복사하라는 뜻입니다.

다만, 원격지와 원격지를 복사하는 건 이렇게 쓸 경우엔, 중간에 rclone이 설치된 기기를 중간 경로로 삼게 됩니다.
중간에 rclone이 설치된 기기를 경유하지 않고, 원격지와 원격지와 바로 복사도 가능하며, 그럴 경우 명령어 옵션을 따로 추가해야 합니다.

```
16:37:16 목 2022-05-26 kaosco@ksamlab ~
~ $ rclone copy santa-backup/kaosorder2/2022/05/kaosorder2_220525-221001.sql.7z kaosnote:/db-files/2022/05/
```

##### 자주 쓰이는 옵션 정리

`-v`
명령어 동작 중에 동작 정보를 출력합니다.

`--log-file=/로그파일의경로/로그파일이름.log`
명령어 동작한 내용을 로그 파일로 기록하여 남깁니다.

`---delete-empty-src-dirs`
소스의 빈 폴더를 대상에 전송하지 않습니다.

`--create-empty-src-dirs`
소스의 빈 폴더를 대상에 만듭니다.

`--ignore-existing`
소스와 대상을 비교한 후, 대상에 이미 존재하는 건 전송하지 않고 무시합니다.

`--bwlimit 숫자M`
전송할 때 최대 속도 제한. 5M이라고 하면 최대 5M bps/s의 속도로 전송됩니다.

`--config rclone.conf파일경로`
시놀로지 등 몇몇 NAS에서 스케쥴러에 등록할 때 넣어야 동작됩니다.

`--transfers 숫자`
숫자만큼 동시 복사 파일 수가 늘어납니다. 작은 파일 옮길 때 유용하며 한 20 잡으면 됩니다.

`--copy-links`
링크도 포함하여, 빠짐없이 복사하란 뜻입니다.

`--drive-server-side-across-configs=true`
원격지에서 원격지로 전송할 때 중간에 rclone이 설치된 기기를 거치지 않고, 원격지에서 원격지로 바로 전송하라는 옵션입니다. 참고로 계정이 여러 개가 있는 팀드라이브를 쓸 시에, 팀드라이브의 다른 드라이브 자료를 팀 드라이브의 내 드라이브로 옮길 시 우선 팀드라이브로 자료를 옮긴 다음, 팀드라이브와 내 드라이브를 이 옵션을 써서 옮기는게 빠릅니다. 또한 꼭 복사해야 하는게 아니면 copy 명령어보다, move 명령어가 빠르게 전송됩니다.

`--progress`
전송 과정을 출력합니다.

Ex)

`rclone copy "gdrive:/사진" "gdrive:/백업/사진" --create-empty-src-dirs   --ignore-existing --transfers 20 --copy-links --bwlimit 10M --drive-server-side-across-configs=true --progress &`

대략 이런 식으로 옵션을 추가할 수 있습니다. 

추가로 아이고성 님의 클리앙의 rclone vfs 마운트가 더 좋아졌네요( https://www.clien.net/service/board/cm_nas/15415864?combine=true&q=rclone&p=3&sort=recency&boardCd=&isBoard=false ) 글을 참고하시면 영상 재생 시 버퍼링 생기는 걸 줄일 수 있을 겁니다.

## 220525 수
푸른숲도서관 1050 min연차

- rclone 설치

```
14:27:26수220525 yos@fed36lib ~/Downloads
Downloads $ rclone --version
rclone v1.57.0-DEV
- os/version: fedora 36 (64 bit)
- os/kernel: 5.17.6-300.fc36.x86_64 (x86_64)
- os/type: linux
- os/arch: amd64
- go/version: go1.18beta1
- go/linking: dynamic
- go/tags: none
14:29:33수220525 yos@fed36lib ~/Downloads
Downloads $ rclone config
2022/05/25 14:30:19 NOTICE: Config file "/home/yos/.config/rclone/rclone.conf" not found - using defaults
No remotes found - make a new one
n) New remote
s) Set configuration password
q) Quit config
n/s/q> n
name> gdrive
Option Storage.
Type of storage to configure.
Enter a string value. Press Enter for the default ("").
Choose a number from below, or type in your own value.
 1 / 1Fichier
   \ "fichier"
 2 / Alias for an existing remote
   \ "alias"
 3 / Amazon Drive
   \ "amazon cloud drive"
 4 / Amazon S3 Compliant Storage Providers including AWS, Alibaba, Ceph, Digital Ocean, Dreamhost, IBM COS, Minio, SeaweedFS, and Tencent COS
   \ "s3"
 5 / Backblaze B2
   \ "b2"
 6 / Better checksums for other remotes
   \ "hasher"
 7 / Box
   \ "box"
 8 / Cache a remote
   \ "cache"
 9 / Citrix Sharefile
   \ "sharefile"
10 / Compress a remote
   \ "compress"
11 / Dropbox
   \ "dropbox"
12 / Encrypt/Decrypt a remote
   \ "crypt"
13 / Enterprise File Fabric
   \ "filefabric"
14 / FTP Connection
   \ "ftp"
15 / Google Cloud Storage (this is not Google Drive)
   \ "google cloud storage"
16 / Google Drive
   \ "drive"
17 / Google Photos
   \ "google photos"
18 / Hadoop distributed file system
   \ "hdfs"
19 / Hubic
   \ "hubic"
20 / In memory object storage system.
   \ "memory"
21 / Jottacloud
   \ "jottacloud"
22 / Koofr
   \ "koofr"
23 / Local Disk
   \ "local"
24 / Mail.ru Cloud
   \ "mailru"
25 / Mega
   \ "mega"
26 / Microsoft Azure Blob Storage
   \ "azureblob"
27 / Microsoft OneDrive
   \ "onedrive"
28 / OpenDrive
   \ "opendrive"
29 / OpenStack Swift (Rackspace Cloud Files, Memset Memstore, OVH)
   \ "swift"
30 / Pcloud
   \ "pcloud"
31 / Put.io
   \ "putio"
32 / QingCloud Object Storage
   \ "qingstor"
33 / SSH/SFTP Connection
   \ "sftp"
34 / Sia Decentralized Cloud
   \ "sia"
35 / Sugarsync
   \ "sugarsync"
36 / Tardigrade Decentralized Cloud Storage
   \ "tardigrade"
37 / Transparently chunk/split large files
   \ "chunker"
38 / Union merges the contents of several upstream fs
   \ "union"
39 / Uptobox
   \ "uptobox"
40 / Webdav
   \ "webdav"
41 / Yandex Disk
   \ "yandex"
42 / Zoho
   \ "zoho"
43 / http Connection
   \ "http"
44 / premiumize.me
   \ "premiumizeme"
45 / seafile
   \ "seafile"
Storage> drive
Option client_id.
Google Application Client Id
Setting your own is recommended.
See https://rclone.org/drive/#making-your-own-client-id for how to create your own.
If you leave this blank, it will use an internal key which is low performance.
Enter a string value. Press Enter for the default ("").
client_id> 
#-- Google 계정으로 Google API 콘솔 https://console.cloud.google.com/apis/dashboard?pli=1&project=ysseowon 에 로그인

```

- https://rclone.org/drive/#making-your-own-client-id rclone용 Google 드라이브 클라이언트 ID를 만드는 방법은 다음과 같습니다.

1. Google 계정으로 Google API 콘솔 에 로그인 합니다. 사용하는 Google 계정은 중요하지 않습니다. (액세스하려는 Google 드라이브와 동일한 계정일 필요는 없습니다.)

2. 프로젝트를 선택하거나 새 프로젝트를 만듭니다.

3. "ENABLE APIS AND SERVICES"에서 "Drive"를 검색하고 "Google Drive API"를 활성화합니다.

4. 왼쪽 패널에서 "자격 증명"을 클릭한 다음(마법사를 여는 "자격 증명 만들기"가 아님) "자격 증명 만들기"를 클릭합니다.

5. "Oauth Consent Screen"을 이미 구성한 경우 다음 단계로 건너뜁니다. 그렇지 않은 경우 "CONFIGURE CONSENT SCREEN" 버튼(오른쪽 패널의 오른쪽 상단 모서리 부근)을 클릭한 다음 "External"을 선택하고 "CREATE"를 클릭합니다. 다음 화면에서 "응용 프로그램 이름"을 입력하십시오("rclone"은 정상임). "사용자 지원 이메일"을 입력하십시오(귀하의 이메일은 OK). "개발자 연락처 이메일"을 입력하십시오(귀하의 이메일은 OK). 그런 다음 "저장"을 클릭하십시오(다른 모든 데이터는 선택 사항임). 왼쪽 패널에서 "자격 증명"을 다시 클릭하여 "자격 증명" 화면으로 돌아갑니다.

(추신: G Suite 사용자인 경우 위의 "외부" 대신 "내부"를 선택할 수도 있지만 이것은 지금까지 테스트/문서화되지 않았습니다).

6. 화면 상단의 "+ CREATE CREDENTIALS" 버튼을 클릭한 다음 "OAuth 클라이언트 ID"를 선택합니다.

7. "데스크톱 앱"의 응용 프로그램 유형을 선택하고 "만들기"를 클릭합니다. (기본 이름은 괜찮습니다)

8. 클라이언트 ID와 클라이언트 암호가 표시됩니다. 이것들을 기록해 두십시오.

9. "인증 동의 화면"으로 이동하여 "앱 게시"를 누릅니다.

10. rclone에 기록된 클라이언트 ID와 클라이언트 암호를 제공합니다.

11. "OAuth 동의 화면"을 클릭한 다음 "PUBLISH APP" 버튼을 클릭하고 확인하거나 "테스트 사용자"에서 계정을 추가합니다.

## 330524 화
푸른숲도서관 1000

- 라즈베리파이 M2. SSD (PCIE,SATA) SSD 관련 팁입니다. 냐앙 5,926 2021-05-25 11:43:17 수정일 : 2021-05-25 18:21:24 https://www.clien.net/service/board/cm_rasp/16169819

## 220523 월
진접도서관 0920 노무현전대통령13주기추도식

- swtr 백업
```
10:44:59월220523 yos@fed36lib ~/git-projects/gate242
gate242 $ ssh -Y -p 578 y@sdo
y@sdo's password: 
Last login: Mon May 16 11:59:16 2022 from 14.56.25.151
10:46:04월22-05-23 y@g1 ~
~ $ cd swtr-data/db_backup/
10:46:46월22-05-23 y@g1 ~/swtr-data/db_backup
db_backup $ sh 0632-mysqldump-to-uname-n-gate242.7z.sh 
<<<<<<<<<< 0632-mysqldump-to-uname-n-gate242.7z.sh ||| gate242 데이터베이스를 sql.7z 로 백업하기 <<<<<<<<<<
----> mysql_config_editor print --all 
[swlog]
user = gateroot
password = *****
host = gatedb
port = 3306
<---- mysql_config_editor print --all 
----> 현재 디렉토리에서 호스트 이름의 디렉토리에 백업합니다.
----> press Enter:

----> ls -l --color g1ssd128/ 
합계 58792
-rw-rw-r--. 1 y y 58929447  4월 25 08:06 gate242_220425-080133_g1ssd128.sql.7z
drwxrwxr-x. 2 y y     4096  4월 25 08:01 old-at-2022-04
<---- ls -l --color g1ssd128/ 
----> mkdir g1ssd128/old-at-2022-05 
<---- mkdir g1ssd128/old-at-2022-05 
----> mv ./g1ssd128/gate242_*.sql.7z g1ssd128/old-at-2022-05/ 전에 백업해둔 파일이 있으므로, g1ssd128/old-at-2022-05 디렉토리로 옮깁니다.
<---- mv ./g1ssd128/gate242_*.sql.7z g1ssd128/old-at-2022-05/ 전에 백업해둔 파일이 있으므로, g1ssd128/old-at-2022-05 디렉토리로 옮깁니다.
----> time /usr/bin/mysqldump --login-path=swlog --column-statistics=0 gate242 | 7za a -si ./g1ssd128/gate242_220523-104658_g1ssd128.sql.7z 

7-Zip (a) [64] 16.02 : Copyright (c) 1999-2016 Igor Pavlov : 2016-05-21
p7zip Version 16.02 (locale=ko_KR.UTF-8,Utf16=on,HugeFiles=on,64 bits,4 CPUs Intel(R) Celeron(R) CPU  J1900  @ 1.99GHz (30678),ASM)

Creating archive: ./g1ssd128/gate242_220523-104658_g1ssd128.sql.7z

Items to compress: 1

                       
Files read from disk: 1
Archive size: 58951921 bytes (57 MiB)
Everything is Ok

real	4m47.365s
user	12m27.443s
sys	0m17.016s
<---- time /usr/bin/mysqldump --login-path=swlog --column-statistics=0 gate242 | 7za a -si ./g1ssd128/gate242_220523-104658_g1ssd128.sql.7z 
rsync -avzr -e 'ssh -p ' y@sdo:se*/db*/g1ssd128/gate242_220523-104658_g1ssd128.sql.7z . <---- 전송을 위해 이와같은 명령을 씁니다.
----> ls -l --color g1ssd128/ 
합계 58816
-rw-rw-r--. 1 y y 58951921  5월 23 10:51 gate242_220523-104658_g1ssd128.sql.7z
drwxrwxr-x. 2 y y     4096  4월 25 08:01 old-at-2022-04
drwxrwxr-x. 2 y y     4096  5월 23 10:47 old-at-2022-05
<---- ls -l --color g1ssd128/ 
>>>>>>>>>> 0632-mysqldump-to-uname-n-gate242.7z.sh ||| gate242 데이터베이스를 sql.7z 로 백업하기 >>>>>>>>>>
10:51:52월22-05-23 y@g1 ~/swtr-data/db_backup
db_backup $ exit
logout
Connection to sdo closed.
10:58:01월220523 yos@fed36lib ~/git-projects/gate242
gate242 $ rsync -avzr -e 'ssh -p ' y@sdo:se*/db*/g1ssd128/gate242_220523-104658_g1ssd128.sql.7z .
y@sdo's password: 
receiving incremental file list
gate242_220523-104658_g1ssd128.sql.7z

sent 43 bytes  received 58,985,621 bytes  4,067,976.83 bytes/sec
total size is 58,951,921  speedup is 1.00
10:58:50월220523 yos@fed36lib ~/git-projects/gate242
gate242 $ ll g*
-rw-rw-r--. 1 yos yos 58951921  5월 23일 10:51 gate242_220523-104658_g1ssd128.sql.7z
10:59:54월220523 yos@fed36lib ~/git-projects/gate242
gate242 $ 
```

- kaosorder santa 서버와 백업PC 의 보관파일들
```
12:32:01 월 2022-05-23 kaosco@ksamlab ~/santa-backup
santa-backup $ ls /home/santa-backup/cadbase/2022/05/19/ /home/santa-backup/db2/2021/12/ /home/santa-backup/emailbase/2022/05/20/ /home/santa-backup/georaebase/2022/05/18/ /home/santa-backup/kaosorder2/2022/05/ /home/santa-backup/kaosoyo/2022/05/ /home/santa-backup/mydb_utf8/2022/05/ /home/santa-backup/scanbase/2022/05/20/
/home/santa-backup/cadbase/2022/05/19/:
32310요척A.mkx   32424요척B.mkx  32454요척.pax  32482요척.mkx  32528요척.mkx   32542요척.mkx  32567A-DMW22561.dxf  32572요척.pax  32590.pax  32593.pax  32598.pax  32606A.pax
32311요척A.mkx   32440요척.pax   32455요척.mkx  32482요척.pax  32528요척A.mkx  32564.pax      32567A.dxf           32583요척.mkx  32591.pax  32595.pax  32599.pax  32607.pax
32313요척AA.mkx  32454요척.mkx   32481.pax      32518.pax      32534A.pax      32565.pax      32572요척.mkx        32589.pax      32592.pax  32597.pax  32606.pax  32607A.pax

/home/santa-backup/db2/2021/12/:
kaosorder2-db-211202-145207.tar.7z.001

/home/santa-backup/emailbase/2022/05/20/:
 32455A-PW3MP22X51-HAB.pdf   32482A-PW3MD22X72-HAB.pdf  '32528-PW3WD22W74 DOWNBAG.pdf'   32542A-PW3MJ22X73-HAB.pdf

/home/santa-backup/georaebase/2022/05/18/:
3256_202205-294.pdf  3257_202205-214.pdf  3258_202205-553.pdf

/home/santa-backup/kaosorder2/2022/05/:
kaosorder2_220520-234201.sql.7z  kaosorder2_220521-134001.sql.7z  kaosorder2_220521-221001.sql.7z  kaosorder2_220522-221002.sql.7z  last_db_time.txt

/home/santa-backup/kaosoyo/2022/05/:
kaosoyo_220520-234255.sql.7z  kaosoyo_220521-134055.sql.7z  kaosoyo_220521-221056.sql.7z  kaosoyo_220522-221117.sql.7z  last_db_time.txt

/home/santa-backup/mydb_utf8/2022/05/:
mydb_utf8_220521-134056.sql.7z  mydb_utf8_220521-221057.sql.7z  mydb_utf8_220522-221119.sql.7z

/home/santa-backup/scanbase/2022/05/20/:
ARJU-2D315_220520_111348.xlsx  CDAA8CT4121_220520_111847.png  CDAA8JP4202_220520_111839.png  ScanF22CVU01BM_220520_103409.pdf  ScanPW3MJ22F52_220520_112035.pdf
ARJU-2D315_220520_111353.pax   CDAA8JP4201_220520_111820.png  CDAA8JP4204_220520_111831.png  ScanF22CVU01CL_220520_103859.pdf  ScanPW3WN22W75_220520_102910.pdf
12:33:33 월 2022-05-23 kaosco@ksamlab ~/santa-backup
santa-backup $ ssh kaosco@kaos.kr
kaosco@kaos.kr's password: 
Last login: Mon May 23 12:26:31 2022 from sonynote
12:33:20 (월) 2022-05-23 kaosco@santa ~
~ $ ls /var/base/cadbase/2022/05/19/ /var/kaosorder-backup/db2/2021/12/ /var/base/emailbase/2022/05/20/ /var/base/georaebase/2022/05/18/ /var/base_db/kaosorder2/2022/05/ /var/base_db/kaosoyo/2022/05/ /var/base_db/mydb_utf8/2022/05/ /var/base/scanbase/2022/05/20/
/var/base/cadbase/2022/05/19/:
32310요척A.mkx	 32424요척B.mkx  32454요척.pax	32482요척.mkx  32528요척.mkx   32542요척.mkx  32567A-DMW22561.dxf  32572요척.pax  32590.pax  32593.pax	32598.pax  32606A.pax
32311요척A.mkx	 32440요척.pax	 32455요척.mkx	32482요척.pax  32528요척A.mkx  32564.pax      32567A.dxf	   32583요척.mkx  32591.pax  32595.pax	32599.pax  32607.pax
32313요척AA.mkx  32454요척.mkx	 32481.pax	32518.pax      32534A.pax      32565.pax      32572요척.mkx	   32589.pax	  32592.pax  32597.pax	32606.pax  32607A.pax

/var/base/emailbase/2022/05/20/:
32455A-PW3MP22X51-HAB.pdf  32482A-PW3MD22X72-HAB.pdf  32528-PW3WD22W74 DOWNBAG.pdf  32542A-PW3MJ22X73-HAB.pdf

/var/base/georaebase/2022/05/18/:
3256_202205-294.pdf  3257_202205-214.pdf  3258_202205-553.pdf

/var/base/scanbase/2022/05/20/:
ARJU-2D315_220520_111348.xlsx  CDAA8CT4121_220520_111847.png  CDAA8JP4202_220520_111839.png  ScanF22CVU01BM_220520_103409.pdf  ScanPW3MJ22F52_220520_112035.pdf
ARJU-2D315_220520_111353.pax   CDAA8JP4201_220520_111820.png  CDAA8JP4204_220520_111831.png  ScanF22CVU01CL_220520_103859.pdf  ScanPW3WN22W75_220520_102910.pdf

/var/base_db/kaosorder2/2022/05/:
kaosorder2_220520-234201.sql.7z  kaosorder2_220521-221001.sql.7z  kaosorder2_220522-221002.sql.7z  last_db_time.txt

/var/base_db/kaosoyo/2022/05/:
kaosoyo_220520-234255.sql.7z  kaosoyo_220521-221056.sql.7z  kaosoyo_220522-221117.sql.7z  last_db_time.txt

/var/base_db/mydb_utf8/2022/05/:
mydb_utf8_220522-221119.sql.7z

/var/kaosorder-backup/db2/2021/12/:
kaosorder2-db-211202-145207.tar.7z.001
12:33:23 (월) 2022-05-23 kaosco@santa ~
~ $ 
```

## 220521 토
푸른숲도서관 1010 hn,my 알바 hm 외출

kaos.kr 도메인의 ip 지정이 안돼서 다음과 같이 내부에서 지정해서 쓴다.
```
10:31:39 토 2022-05-21 kaosco@ksamlab ~
~ $ cat .ssh/config 
Host kaos.kr
	KexAlgorithms +diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1
	# KexAlgorithms +diffie-hellman-group1-sha1
	## PubkeyAcceptedKeyTypes=ssh-rsa
Host www.kaos.kr
	KexAlgorithms +diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha1,diffie-hellman-group1-sha1
	# KexAlgorithms +diffie-hellman-group1-sha1
	## PubkeyAcceptedKeyTypes=ssh-rsa
10:31:57 토 2022-05-21 kaosco@ksamlab ~
~ $ cat /etc/hosts
127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4
::1         localhost localhost.localdomain localhost6 localhost6.localdomain6
172.18.0.2 ksammy
192.168.10.99 santa # 220520 고정ip로 바꾸기 전까지 사용함.
192.168.10.99 kaos.kr # 220520 고정ip로 바꾸기 전까지 사용함.
192.168.10.99 www.kaos.kr # 220520 고정ip로 바꾸기 전까지 사용함.
10:32:02 토 2022-05-21 kaosco@ksamlab ~
~ $ exit
로그아웃
Connection to kaos.kr closed.
10:32:08토220521 yos@fed36lib ~/git-projects
git-projects $ cat /etc/hosts
# Loopback entries; do not change.
# For historical reasons, localhost precedes localhost.localdomain:
127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4
::1         localhost localhost.localdomain localhost6 localhost6.localdomain6
# See hosts(5) for proper format and other examples:
# 192.168.1.10 foo.mydomain.org foo
# 192.168.1.13 bar.mydomain.org bar
210.223.11.80 kaos.kr # 220521 고정ip로 바꾸기 전까지 사용함.
10:32:14토220521 yos@fed36lib ~/git-projects
git-projects $ 
```

### santa 에서 db 를 압축보관 하기위한 crontab

```
11:40:07 (토) 2022-05-21 root@santa 012345678 ~/bin
bin # crontab -l
# Example of job definition:
# .--------------------- minute (0 - 59)
# |  .------------------ hour (0 - 23)
# |  |       .---------- day of month (1 - 31)
# |  |       |  .------- month (1 - 12) OR jan,feb,mar,apr ...
# |  |       |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat
# |  |       |  |  |
#-*--*-------*--*--*--command to be executed
10   22      *  *  *   /bin/sh /root/bin/01-santa-db-to-var-base_db.sh
#-*--*-------*--*--*--command to be executed
# |   |       |  |  |
#  |   |       |  |  |
# */5  13,23   *  *  *   /bin/sh /root/bin/003-santa-log-to-zkdhtm.sh #-- 작업삭제
# 10   8-21    *  *  *   /bin/sh /root/bin/004-santa-db-to-dropbox.sh # 매일 1시간 간격 백업후 그날의 마지막 백업은 1주 지나면 삭제. #-- 211202 작업삭제
# 50   5,12,18 *  *  *   /bin/sh /root/bin/005-santa-db-to-email.sh #-- 작업삭제
# 10   22      *  *  *   /bin/sh /root/bin/005-santa-db-to-email.sh #-- 매일 1회 백업. 211202 삭제 #-- 작업삭제
# 12   3       *  *  *   /bin/sh /root/bin/006-santa-opt-to-email.sh #-- 작업삭제
# 12   4       *  *  2-7 /bin/sh /root/bin/007-santa-wiki-to-email.sh #-- 작업삭제
# 12   1       1  *  *   /bin/sh /root/bin/008-santa-month-opt-to-email.sh #-- 작업삭제
# 12   0       *  *  *   /bin/sh /root/bin/014-grails-build-all-projects.sh #-- 작업삭제
# 10   22      *  *  *   /bin/sh /root/bin/004-santa-db-to-dropbox.sh #-- 이름변경
11:40:11 (토) 2022-05-21 root@santa 012345678 ~/bin
bin # ls -l /root/bin/
합계 24
-rwxr-xr-x 1 root root 9692  5월 21 11:27 01-santa-db-to-var-base_db.sh
drwxr-xr-x 2 root root 4096  5월 21 11:24 scripts-before-20220521
11:40:22 (토) 2022-05-21 root@santa 012345678 ~/bin
bin # 
```

## 220520 금
푸른숲도서관 0950 바이든 내방

- 0856 <-sk db 를 별도서버에 설치할수 있는지 -> 원격db서버로 가능, 일별, 시간별 백업 가능, 레플리케이션 기능으로 실시간 db복사도 가능, 백업기간 조절 구현, 차후 레플리케이션으로 구현.
- 1027 ->sk 211.223.11.80 으로 도메인 등록할것 <- 아이네임즈 수정요청 예정.
```
17:12:14 (금) 2022-05-20 kaosco@santa /var
var $ df -h
Filesystem            Size  Used Avail Use% Mounted on
/dev/mapper/VolGroup00-LogVol00
                       95G   32G   59G  35% /
/dev/mapper/VolGroup01-LogVol01
                      770G  432G  300G  60% /var
/dev/sda3              31G  206M   29G   1% /opt
/dev/sda1              99M   41M   54M  43% /boot
tmpfs                 1.9G     0  1.9G   0% /dev/shm
```

## 220519 목
- kaos server 211.223.11.80 서버 오류 복구작업
```
11:13:52 (Thu) 2022-05-19 root@santa
~ # fsck /dev/VolGroup01/LogVol01
fsck 1.39 (29 May 2006)
e2fsck 1.39 (29 May 2006)
/dev/VolGroup01/LogVol01 contains a file system with errors, check forced.
Pass 1: checking inodes, blocks, and sizes

Inodes that were part of a corrupted orphan linked list found. Fix<Y>? Yes

Inode 138477570 was part of the orphaned inode list. FIXED.
…
```

- 112207-fsck_커맨드_시작_Pass_1
![ 112207-fsck_command_start_pass_1 ](/testimg/220519_112207-fsck_command-start_pass_1_540x304.jpg)
- 113219-fsck_pass_2
![ 113219-fsck_pass_2 ](/testimg/220519_113219-fsck_pass_2_540x304.jpg)
- 113755-fsck_pass_3-pass_4
![ 113755-fsck_pass_3-pass_4 ](/testimg/220519_113755-fsck_pass_3-pass_4_540x304.jpg)
- 114302-fsck_pass_5
![ 114302-fsck_pass_5 ](/testimg/220519_114302-fsck_pass_5_540x304.jpg)
- 114405-fsck_끝남
![ 114405-fsck_fin ](/testimg/220519_114405-fsck_finish_540x304.jpg)

## 220518 수
푸른숲도서관 1120

- 1014 <-sk 낙뢰후 순간정전으로 샤오미공유기 210.223.11.80 으로 변경됐다고 함.
- 월마감시 메일 발송 에러 500 발생, 메일전송이 안됨.
- kaosorder 용 santa 서버, 백업pc 정상작동 확인.
- 1515 <-sk santa 서버에서 웹 로그인 안됨. mysql 살아있으나 연결 안됨.
- santa 서버 로그
```
13:53:10 (금) 2022-05-20 kaosco@santa ~
~ $ last|more
kaosco   pts/2        sonynote         Fri May 20 13:53   still logged in   
kaosco   pts/4        sonynote         Thu May 19 14:06 - 14:18  (00:11)    
kaosco   pts/3        192.168.10.5     Thu May 19 13:19 - 16:15  (02:56)    
kaosco   pts/2        192.168.10.79    Thu May 19 12:34 - 14:38  (02:03)    
kaosco   pts/1        :0.0             Thu May 19 11:59   still logged in   
kaosco   :0                            Thu May 19 11:59   still logged in   
kaosco   :0                            Thu May 19 11:59 - 11:59  (00:00)    
reboot   system boot  2.6.18-408.el5   Thu May 19 11:57         (1+01:55)   
kaosco   pts/1        192.168.10.5     Wed May 18 14:13 - crash  (21:44)    
kaosco   pts/1        192.168.10.5     Wed May 18 14:01 - 14:10  (00:09)    
kaosco   pts/1        192.168.10.5     Wed May 18 10:31 - 10:34  (00:02)    
kaosco   pts/1        192.168.10.5     Wed May 18 10:29 - 10:31  (00:01)    
reboot   system boot  2.6.18-408.el5   Wed May 18 09:53         (2+03:59)   
kaosco   pts/2        192.168.10.5     Wed May 18 08:38 - crash  (01:15)    
kaosco   pts/2        192.168.10.5     Wed May 18 08:00 - 08:00  (00:00)    
kaosco   pts/2        192.168.10.5     Tue May 17 17:57 - 17:57  (00:00)    
kaosco   pts/2        192.168.10.5     Tue May 17 17:41 - 17:41  (00:00)    
kaosco   pts/2        192.168.10.5     Mon May 16 15:30 - 15:54  (00:24)    
kaosco   pts/2        192.168.10.5     Mon May 16 15:08 - 15:10  (00:01)    
kaosco   pts/2        222.120.119.154  Fri May 13 13:09 - 13:10  (00:01)  
```

- Fedora36 설치후 운영하지 않고 보관중인 백업pc HDD 로그

```
TODO: 추가할것.
```

- 현재 운영중인 백업pc HDD 로그
```
13:47:34 금 2022-05-20 kaosco@ksamlab ~
~ $ last|more
kaosco   pts/0        222.120.119.154  Fri May 20 13:47   still logged in
kaosco   :1           :1               Thu May 19 12:11 - 14:26  (02:14)
reboot   system boot  5.13.5-200.fc34. Thu May 19 12:03   still running
kaosco   tty2         tty2             Thu May 19 11:55 - down   (00:04)
reboot   system boot  5.13.5-200.fc34. Thu May 19 11:02 - 11:59  (00:57)
kaosco   tty3         tty3             Mon Feb 28 11:35 - down   (00:01)
kaosco   pts/0        14.56.25.151     Mon Feb 28 11:23 - 11:27  (00:03)
kaosco   pts/0        116.39.226.45    Sat Feb 12 16:26 - 16:29  (00:02)
kaosco   pts/0        119.193.246.102  Fri Feb 11 10:53 - 10:54  (00:00)
kaosco   pts/0        14.56.25.151     Thu Feb 10 13:30 - 13:33  (00:02)
kaosco   pts/0        116.39.226.45    Sun Jan 30 09:19 - 09:22  (00:03)
kaosco   pts/0        121.163.199.163  Sat Jan 29 16:24 - 17:06  (00:41)
```

## 220517 화
푸른숲도서관 0910

- DZone > 데이터베이스 영역 > 기존 노트북이 새로운 데이터베이스 서버입니다. : 오래된 노트북이 새로운 데이터베이스 서버입니다 - 항상 사용 가능한 상태로 유지하는 데 필요한 모든 구성과 함께 Ubuntu Server, Docker 및 MariaDB를 설치하여 오래된 랩톱을 활용하는 방법을 알아보십시오. 알레한드로 두아르테 핵심 · 5월. 05, 22 · 데이터베이스 영역 · 지도 시간 https://dzone.com/articles/your-old-laptop-is-your-new-database-server?edition=731511

## 220516 월
진접도서관 0910
- Learn to Create WordPress Themes by Building 5 Projects https://subscription.packtpub.com/book/web-development/9781787286641/pref/preflvl1sec02/what-this-book-covers
- Full Stack Development with Spring Boot and React - Third Edition https://subscription.packtpub.com/book/web_development/9781801816786/pref
- Building Games with Flutter https://subscription.packtpub.com/book/game_development/9781801816984/1

## 220513 금
푸른숲도서관 1110

- 윤출근표 오늘의 클리앙 상황 ㅋㅋㅋㅋㅋ 17:00:25똥간귀신 https://www.ddanzi.com/index.php?mid=free&statusList=HOT%2CHOTBEST%2CHOTAC%2CHOTBESTAC&document_srl=735538293
- 무선 공유기를 살까요? 증폭기를 살까요? 18:33:44네버다이. https://www.ddanzi.com/index.php?mid=free&statusList=HOT%2CHOTBEST%2CHOTAC%2CHOTBESTAC&document_srl=735548592
- 윤석열 대통령의 '지각사태'... "공무원 지각은 법률 위반행위" https://www.ddanzi.com/index.php?mid=free&statusList=HOT%2CHOTBEST%2CHOTAC%2CHOTBESTAC&page=2&document_srl=735536567
- 진혜원 "공무원 출근 시간은 9시… 지각하면 '직장이탈' 법률 위반" 정문영 기자 승인 2022.05.13 13:21 http://www.goodmorningcc.com/news/articleView.html?idxno=269474
- 루나(LUNA)코인이 망한 이유 14:07:05악땅 https://www.ddanzi.com/index.php?mid=free&statusList=HOT%2CHOTBEST%2CHOTAC%2CHOTBESTAC&page=4&document_srl=735516559
유튜브 https://www.youtube.com/watch?v=fJNlzHj0G8Y
- <금리에 대한 기초 8> 2022-05-13 00:33붕(鵬)™🎗 https://www.ddanzi.com/index.php?_filter=search&mid=free&filterid=pop-alert-search&search_target=content&search_keyword=%EA%B8%88%EB%A6%AC&document_srl=735462645

A. 샤오미 공유기
| 외부 | ip | 내부 |
|---:|:---:|:---|
| ---- <1> ----(o) | 210.223.11.244 | 외부 ip (공인) = 외부 (인터넷)에서 나를 부르는 ip |
|         | 192.168.0.1    | 내부 ip = 내부 에서 나를 부르는 ip |
|         | 192.168.0.1    | (A)---- <2> ----(B) |
|         | 192.168.0.1    | (A)---- <3> ----(C) |
|         | 192.168.0.1    | (A)---- <4> ----(D) |
|         | 192.168.0.1    | (A)---- |

B. netis 공유기
| 외부 | ip | 내부 |
|---:|:---:|:---|
| (A)---- <2> ----(B) | 192.168.0.12   | 외부 ip = 외부 (A) 에서 나를 부르는 ip |
|         | 192.168.10.1   | 내부 ip = 내부 에서 나를 부르는 ip |
|         | 192.168.10.1   | (B)---- <5> ----(C) |
|         | 192.168.10.1   | (B)---- <6> ----(D) |
|         | 192.168.10.1   | (B)---- |
|         | 192.168.10.1   | (B)---- |

C. 서버
| 외부 | ip | 내부 |
|---:|:---:|:---|
| (A)---- <3> ----(C) | 192.168.0.88   | 외부 ip = 외부 (A) 에서 나를 부르는 ip |
| (B)---- <5> ----(C) | 192.168.10.99  | 외부 ip = 외부 (B) 에서 나를 부르는 ip |
|         | 192.168.56.1   | 내부 ip = VirtualBox를 운영하지 않으면 쓸모없다 |

D. 백업 PC
| 외부 | ip | 내부 |
|---:|:---:|:---|
| (A)---- <4> ----(D) | 192.168.0.12   | 외부 ip = 외부 (A) 에서 나를 부르는 ip |
| (B)---- <6> ----(D) | 192.168.10.4   | 외부 ip = 외부 (B) 에서 나를 부르는 ip |
|         | 192.168.56.1   | 내부 ip = 내부(VirtualBox) 에서 나를 부르는 ip |
|         | 192.168.56.1   | (D)---- ..7.. ----(E) |
|         | 192.168.56.1   | (D)---- |
|         | 192.168.56.1   | (D)---- |

E. (D. 백업 PC) 안에 설치한 VirtualBox
| 외부 | ip | 내부 |
|---:|:---:|:---|
| (D)---- ..7.. ----(E) | 192.168.56.101 | 외부 ip = 외부 (D) 에서 나를 부르는 ip |

- <1> = UTP 케이블
- ..7.. = 실제 케이블이 아님

## 220512 목
진접도서관 0910

JR Raphael <jr@androidintel.net> 유튜브에서 세가지 절약
1. Youtube 앱 오른쪽 상단 > 프로필 사진 클릭 > 메뉴에서 `설정` 선택 > `일반` 누르고, `피드에서 재생` 누르고, 설정을 `wifi 전용` 또는 `끄기` 로 변경한다.
1. 자동재생 안하려면 > 설정 > 기본설정 메뉴 > 자동재생 누르고 > `다음 비디오 자동재생` 옆 토글 클릭하고 끈다.
1. Youtube 앱 설정 > 기본설정 메뉴 > 비디오 품질 기본 설정 > wifi 비디오 품질 > 옵션을 자동 -> 고화질 로 변경한다.

## 220511 수
진접도서관 0910

- yes24.com eBook 쉽고 빠른 플러터 앱 개발 : Flutter & Dart로 화면 구현·상태 관리·데이터 처리·디자인 패턴 익히기-PDF
- Kotlin과 IntelliJ IDEA를 만든 JetBrains에서 제작한 코틀린 전용 웹 프레임워크 Ktor가 존재한다. ORM으로는 Exposed, Ktorm가 있다.
- kaos행
- 헐 바밤바를 모르시는군요 https://youtu.be/iWK0yf8P1Yw 59분30초 부터 입니다

## 220510 화
푸른숲도서관 0920 20대취임식에저자라니

- Doit안드로이드with Kotlin Yes24 현19,000
- Wi-Fi를 사용하여 기기에 연결하기 https://developer.android.com/studio/run/device?utm_source=android-studio-2021-1-1
- kaos이전 금천구 두산로70 현대산업지식센터B동 1602 엠씨텍 내

## 220509 월
진접도서관 0920

- medium 다리우스 포루 스토아 서신의 창시자(매주 금요일에 새 서신이 나옵니다. Medium에서만 독점 제공) | 부를 쌓는 과정이 이제 무료입니다: https://dariusforoux.medium.com/5-common-money-mistakes-to-avoid-66d6199fb23e 5월 1일 피해야 할 5가지 일반적인 금전적 실수 이런 것들이 부자가 되는 것을 방해한다 1. 재정목표 불명확 실수. 2. 비상금 미비 실수. 비상사태, 재난, 전염병, 전쟁은 언제? 3. 단일 수입원에 의존 실수. 현금으로만 지불. 4. 자동차 - 기본필요만 충족 연료,보험,유지보수 최소한. 5. 패시브 투자. 재정출혈 없고, 반년비상금 보유. 앱구독,외식,싼물건.
- medium 리얼캐시테크 4월 7일 라즈베리 파이를 사용하여 돈을 버는 방법 — 8가지 방법 https://medium.com/technology-hits/how-to-use-your-raspberry-pi-to-make-money-8-ways-887186579b2b
- everything [상식] 무료로 3D 프린터 사용할 수 있는 곳 koosal 2021. 3. 3. 19:44 https://i5on9i.tistory.com/1971
- 설문조사에 참여하여 무료 비트코인 획득 Timebucks

## 220506 금
푸른숲도서관 0950

win10.00-init-220506.7z 처음설치 완료본
win10.01-ide-flutter-220506.7z ide 와 flutter 설치 완료본

## 220505 목
왕숙천행 버거킹중식

## 220504 수
푸른숲도서관 1010

- TBS 뉴스공장 이큐브랩 권순범대표 https://www.youtube.com/watch?v=oC1WPcXC2dw&t=5453s 1:30:40
  1. 신촌 쓰레기통 넘쳐서 학교 쓰레기통 압축 프로젝트 진행.
  얼마나 찼는지 지도기반 수거 스케줄 문자, 앱으로 통보.
  1. 환경미화원 인터뷰. 기존 쓰레기통 정보도. 별도 부착센서 빈공간 수위체크 IoT (Internet of Things 사물 인터넷) 센서.
  1. 정보가 중요. 치우는 사람, 도시 관점. 압축률 5-8배. 신촌 하루 5-8회 수거 -> 1-2회로 축소.
  서울 1,000개, 쓰레기통 수가 적어야 집에 버린다 = 한국, 일본만 성공. 시민의식. 상해 600만개 쓰레기통.
  1. 미국 대량 쓰레기, 재활용 안함. 민영화 마피아. 레스토랑에 통 갖다두고 주단위 수거.
  중간자 역할로. 쓰레기통 센서 찼을때, 여러 수거업체 견적, 최저가 낙찰방식. 월 4회 > 월 3회.

공유기에서 포트 포워딩
| 외부 요청포트 | 해당 IP:포트 | 참고 |
|:---:|:---:|----|
| 13000 | 192.168.219.13:5800 | ysgiga |
| 15800 | 192.168.219.58:5800 | proenpi |
| 16500 | 192.168.219.65:6500 | mygram |
| 18900 | 192.168.219.89:8900 | hnleno |
| 19500 | 192.168.219.95:9500 | hmdell |

- VirtualBox >> 네트워크 >> 어댑터 1 >> 포트 포워딩
  - 포트 포워딩 규칙

| 이름 | 프로토콜 | 호스트 IP | 호스트 포트 | 게스트 IP | 게스트 포트 |
|---|---|---|---|---|---|
| wikijs | TCP | 192.168.219.89 | 8900 | 192.168.56.101 | 5800 |

## 220503 화
푸른숲도서관 1150

- windows10 에서 VirtualBox 에 fedora 설치하고 그 위에 docker 깔고 wiki.js 운영.
  - 공인IP, 개인IP 모두 사용할수 있도록.

### gimp 에서 사진 축소하기
Alt+F = `@F` 로 표기한다.
Ctrl+O = `^O` 로 표기한다.
- `@F`+ O 또는 `^O` >> 파일 열기
- `@I`+ S >> 이미지 + 이미지 크기 조정
- 이미지 크기 - 너비 `@W` 1080 을 540 으로 하고 Tab 키 누르면, 높이는 자동 조정된다.
- `@S` >> 크기조정 완료
- `Shift-Ctrl-E` 이미지 내보내기

### 이미지 크기조정

- 90x113.jpg 25KB
![ 90x113 ](/testimg/90x113.jpg)

- 180x225.jpg 43KB
![ 180x225 ](/testimg/180x225.jpg)

- 360x450.jpg 107KB
![ 360x450 ](/testimg/360x450.jpg)

- 540x675.jpg 192KB
![ 540x675 ](/testimg/540x675.jpg)

- 720x900.jpg 320KB
![ 720x900 ](/testimg/720x900.jpg)

## 220502 월
진접도서관 0950

- 통장정리, 구두수선 어느요일?, 휴지통 20L 찾기, 
- 연휴 스터디 일정, wiki.js 체험목록: dart 를 위한 yatzi 프로젝트, DoIT 실습, packtpub bash 문서,
- wiki.js 인쇄시 2매 양면 좌편철 + 보관박스 준비

### 윈도우10을 담은 .vdi 만들기

1. 윈도우 이미지 다운로드
https://www.microsoft.com/ko-kr/software-download/windows10 >> MediaCreationTool21H2.exe 파일을 받아서 실행.
몇가지 항목을 준비하는중 >> 관련통지 및 사용조건 `[동의]` >> 몇가지 항목을 준비하는중 > 원하는 작업을 선택하십시오 (o) 다른 PC용 설치미디어 만들기 선택하고 `[다음]` >> 언어, 아키텍쳐 및 버전 선택 `[다음]` >> 사용할 미디어 선택 (o) ISO 파일 선택하고 `[다음]` >> 내 PC/문서 를 `내 PC/다운로드` 로 바꾸고, 이름을 windows10-220502.iso 로 지정해서 `[저장]` > DVD에 ISO 파일 굽기 `[마침]` (4GB)
2. VirtualBox 에 windows10 설치
3. VirtualBox 프로그램을 완전히 종료시킨 다음, Git-Bash 에서 win10-init-220502.7z.001 압축파일을 만든다. 이때 비밀번호를 입력한다. 압축 프로그램인 7z1900-x64.exe 가 설치돼 있어야 한다.
```
"\Program Files\7-zip\7z" a win10-init-220502.7z windows10.vdi -V3900M -p
```
4. VirtualBox 의 옵션등을 users_USER_VirtualBox-220502.7z 파일로 저장한다.
```
"\Program Files\7-zip\7z" a users_USER_VirtualBox-220502.7z  ".VirtualBox" "VirtualBox VMs"
```

### windows10.vdi 를 사용하기 위한 선행 작업
1. win_vdi 폴더에는 다음 파일이 있다.
```
00-win-to-C-Downloads-bada.bat
win10-init-220502.7z.001
win10-init-220502.7z.002
users_USER_VirtualBox-220502.7z
```
2. 00-win-to-C-Downloads-bada.bat = 사용자의 다운로드 폴더 아래에 `bada` 라는 폴더를 새로 만들고, vdi 파일 압축을 푸는 스크립트. 이때 VirtualBox 옵션 파일도 같이 푼다.
```
rd /S /Q C:\Users\%username%\Downloads\bada #-- bada 폴더가 있으면 삭제한다.
mkdir    C:\Users\%username%\Downloads\bada #-- bada 폴더를 만든다.
"\Program Files\7-zip\7z" x win10*001 -oC:\Users\%username%\Downloads\bada\ #-- bada 폴더에 win10-파일의 압축을 푼다.
rd /S /Q "C:\Users\%username%\.VirtualBox"
rd /S /Q "C:\Users\%username%\VirtualBox VMs"
"\Program Files\7-zip\7z" x C:\Users\%username%\Downloads\bada\users-USER-VirtualBox*7z -oC:\Users\%username%\ #-- VirtualBox 옵션파일을 푼다.
"\Program Files\7-zip\7z" x an*idea*001 -oC:\Users\%username%\Downloads\bada #-- IDE 설치파일을 푼다.
```

## 220501 일
- 220501-091222(˚∀˚)참치는TUNA-기록의 민족이 남긴 업적… https://www.ddanzi.com/index.php?mid=free&statusList=HOT%2CHOTBEST%2CHOTAC%2CHOTBESTAC&document_srl=734246533 수원화성 세계문화유산 등재
- 대안뉴스구독자 8.81만명 https://www.youtube.com/channel/UClgTJWXTyDDBVWr0g5LjR8w
- shra19/Yatzy: The game is written in Python - GitHub https://github.com/shra19/Yatzy
- yahtzee · GitHub Topics https://gist.github.com/kirkmartel/2757217
- A terminal game of Yahtzee coded with Python. - GitHub https://github.com/sameetandpotatoes/Yahtzee
- A dice game based on Yahtzee/Yatzy, built with Flutter. https://github.com/Akmal02/flutzy
- Dart 소개 및 개발환경 https://brunch.co.kr/@mystoryg/115
-Dart (프로그래밍 언어) 간단하게 정리함 https://www.newiki.net/wiki/Dart_(%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D_%EC%96%B8%EC%96%B4)#cite_ref-6

